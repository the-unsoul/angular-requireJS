/*!
 * ui-grid - v3.0.0-RC.18-7774d30 - 2015-02-03
 * Copyright (c) 2015 ; License: MIT 
 */

/**
   * @ngdoc directive
   * @name ui.grid.directive:uiGridStyle
   * @element style
   * @restrict A
   *
   * @description
   * Allows us to interpolate expressions in `<style>` elements. Angular doesn't do this by default as it can/will/might? break in IE8.
   *
   * @example
   <doc:example module="app">
   <doc:source>
   <script>
   var app = angular.module('app', ['ui.grid']);

   app.controller('MainCtrl', ['$scope', function ($scope) {
          $scope.myStyle = '.blah { border: 1px solid }';
        }]);
   </script>

   <div ng-controller="MainCtrl">
   <style ui-grid-style>{{ myStyle }}</style>
   <span class="blah">I am in a box.</span>
   </div>
   </doc:source>
   <doc:scenario>
   it('should apply the right class to the element', function () {
        element(by.css('.blah')).getCssValue('border')
          .then(function(c) {
            expect(c).toContain('1px solid');
          });
      });
   </doc:scenario>
   </doc:example>
   */

/**
         * @ngdoc function
         * @name parseCsv
         * @methodOf ui.grid.importer.service:uiGridImporterService
         * @description Parses a csv file into an array of arrays, with the first
         * array being the headers, and the remaining arrays being the data.
         * The logic for this comes from https://github.com/thetalecrafter/excel.js/blob/master/src/csv.js, 
         * which is noted as being under the MIT license.  The code is modified to pass the jscs yoda condition
         * checker
         * @param {FileObject} importFile the file that we want to import, as a 
         * file object
         */

!function(){angular.module("ui.grid.i18n",[]),angular.module("ui.grid",["ui.grid.i18n"])}(),function(){angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:!0,LOG_WARN_MESSAGES:!0,LOG_ERROR_MESSAGES:!0,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["ƒ","$","£","$","¤","¥","៛","₩","₱","฿","₫"],dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1}})}(),angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(e,i,t,n){var r={priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(i,r,o,a){function l(){var e=i.col.compiledElementFn;e(i,function(e){r.append(e)})}if(a&&i.col.compiledElementFn)l();else if(a&&!i.col.compiledElementFn)i.col.getCompiledElementFn().then(function(e){e(i,function(e){r.append(e)})});else{var s=i.col.cellTemplate.replace(n.MODEL_COL_FIELD,"row.entity."+t.preEval(i.col.field)).replace(n.COL_FIELD,"grid.getCellValue(row, col)"),d=e(s)(i);r.append(d)}},post:function(e,i){var t=e.col.getColClass(!1);i.addClass(t);var r,o=function(){var t=i;r&&(t.removeClass(r),r=null),r=angular.isFunction(e.col.cellClass)?e.col.cellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.cellClass,t.addClass(r)};e.col.cellClass&&o();var a=e.grid.registerDataChangeCallback(o,[n.dataChange.COLUMN,n.dataChange.EDIT]),l=function(n,a){if(n!==a){(r||e.col.cellClass)&&o();var l=e.col.getColClass(!1);l!==t&&(i.removeClass(t),i.addClass(l),t=l)}},s=e.$watch("col",l),d=e.$watch("row",l),c=function(){a(),s(),d()};e.$on("$destroy",c),i.on("$destroy",c)}}}};return r}]),function(){angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(e,i,t){var n={initialize:function(e,i){e.grid=i.grid,i.columnMenuScope=e,e.menuShown=!1},setColMenuItemWatch:function(e){var i=e.$watch("col.menuItems",function(i){"undefined"!=typeof i&&i&&angular.isArray(i)?(i.forEach(function(i){"undefined"!=typeof i.context&&i.context||(i.context={}),i.context.col=e.col}),e.menuItems=e.defaultMenuItems.concat(i)):e.menuItems=e.defaultMenuItems});e.$on("$destroy",i)},sortable:function(e){return e.grid.options.enableSorting&&"undefined"!=typeof e.col&&e.col&&e.col.enableSorting?!0:!1},isActiveSort:function(e,i){return"undefined"!=typeof e.col&&"undefined"!=typeof e.col.sort&&"undefined"!=typeof e.col.sort.direction&&e.col.sort.direction===i},suppressRemoveSort:function(e){return e.col&&e.col.colDef&&e.col.colDef.suppressRemoveSort?!0:!1},hideable:function(e){return"undefined"!=typeof e.col&&e.col&&e.col.colDef&&e.col.colDef.enableHiding===!1?!1:!0},getDefaultMenuItems:function(t){return[{title:e.getSafeText("sort.ascending"),icon:"ui-grid-icon-sort-alt-up",action:function(e){e.stopPropagation(),t.sortColumn(e,i.ASC)},shown:function(){return n.sortable(t)},active:function(){return n.isActiveSort(t,i.ASC)}},{title:e.getSafeText("sort.descending"),icon:"ui-grid-icon-sort-alt-down",action:function(e){e.stopPropagation(),t.sortColumn(e,i.DESC)},shown:function(){return n.sortable(t)},active:function(){return n.isActiveSort(t,i.DESC)}},{title:e.getSafeText("sort.remove"),icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),t.unsortColumn()},shown:function(){return n.sortable(t)&&"undefined"!=typeof t.col&&"undefined"!=typeof t.col.sort&&"undefined"!=typeof t.col.sort.direction&&null!==t.col.sort.direction&&!n.suppressRemoveSort(t)}},{title:e.getSafeText("column.hide"),icon:"ui-grid-icon-cancel",shown:function(){return n.hideable(t)},action:function(e){e.stopPropagation(),t.hideColumn()}}]},getColumnElementPosition:function(e,i,n){var r={};return r.left=n[0].offsetLeft,r.top=n[0].offsetTop,r.offset=0,i.grid.options.offsetLeft&&(r.offset=i.grid.options.offsetLeft),r.height=t.elementHeight(n,!0),r.width=t.elementWidth(n,!0),r},repositionMenu:function(e,i,n,r,o){var a=r[0].querySelectorAll(".ui-grid-menu"),l=i.renderContainer?i.renderContainer:"body",s=(i.grid.renderContainers[l],t.closestElm(o,".ui-grid-render-container")),d=s.getBoundingClientRect().left-e.grid.element[0].getBoundingClientRect().left,c=s.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,u=i.lastMenuWidth?i.lastMenuWidth:e.lastMenuWidth?e.lastMenuWidth:170,p=i.lastMenuPaddingRight?i.lastMenuPaddingRight:e.lastMenuPaddingRight?e.lastMenuPaddingRight:10;if(0!==a.length){var g=a[0].querySelectorAll(".ui-grid-menu-mid");0===g.length||angular.element(g).hasClass("ng-hide")||(u=t.elementWidth(a,!0),e.lastMenuWidth=u,i.lastMenuWidth=u,p=parseInt(t.getStyles(angular.element(a)[0]).paddingRight,10),e.lastMenuPaddingRight=p,i.lastMenuPaddingRight=p)}var f=n.left+d-c+n.width-u+p;f<n.offset&&(f=n.offset),r.css("left",f+"px"),r.css("top",n.top+n.height+"px")}};return n}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService",function(e,i,t,n){var r={priority:0,scope:!0,require:"?^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(i,r,o,a){var l=this;n.initialize(i,a),i.defaultMenuItems=n.getDefaultMenuItems(i),i.menuItems=i.defaultMenuItems,n.setColMenuItemWatch(i),i.showMenu=function(e,t,o){i.col=e;var a=n.getColumnElementPosition(i,e,t);i.menuShown?(i.colElement=t,i.colElementPosition=a,i.hideThenShow=!0,i.$broadcast("hide-menu",{originalEvent:o})):(l.shown=i.menuShown=!0,n.repositionMenu(i,e,a,r,t),i.colElement=t,i.colElementPosition=a,i.$broadcast("show-menu",{originalEvent:o}))},i.hideMenu=function(e){i.menuShown=!1,e||i.$broadcast("hide-menu")},i.$on("menu-hidden",function(){i.hideThenShow?(delete i.hideThenShow,n.repositionMenu(i,i.col,i.colElementPosition,r,i.colElement),i.$broadcast("show-menu"),i.menuShown=!0):i.hideMenu(!0)}),i.$on("menu-shown",function(){e(function(){n.repositionMenu(i,i.col,i.colElementPosition,r,i.colElement),delete i.colElementPosition,delete i.columnElement},200)}),i.sortColumn=function(e,t){e.stopPropagation(),i.grid.sortColumn(i.col,t,!0).then(function(){i.grid.refresh(),i.hideMenu()})},i.unsortColumn=function(){i.col.unsort(),i.grid.refresh(),i.hideMenu()},i.hideColumn=function(){i.col.colDef.visible=!1,i.grid.refresh(),i.hideMenu(),i.grid.api.core.notifyDataChange(t.dataChange.COLUMN)}},controller:["$scope",function(e){var i=this;e.$watch("menuItems",function(e){i.menuItems=e})}]};return r}])}(),function(){angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function(e,i,t,n){var r={priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(){return{pre:function(e,i){var t=n(e.col.footerCellTemplate)(e);i.append(t)},post:function(e,i,n,r){e.grid=r.grid,i.addClass(e.col.getColClass(!1));var o,a=function(){var t=i;o&&(t.removeClass(o),o=null),o=angular.isFunction(e.col.footerCellClass)?e.col.footerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.footerCellClass,t.addClass(o)};e.col.footerCellClass&&a();var l=e.grid.registerDataChangeCallback(a,[t.dataChange.COLUMN]);e.$on("$destroy",l)}}}};return r}])}(),function(){angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,i,t,n){var r="ui-grid/ui-grid-footer";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,t,o,a){var l=a[0],s=a[1];e.grid=l.grid,e.colContainer=s.colContainer,s.footer=t;var d=e.grid.options.footerTemplate?e.grid.options.footerTemplate:r;n.getTemplate(d).then(function(n){var r=angular.element(n),o=i(r)(e);if(t.append(o),s){var a=t[0].getElementsByClassName("ui-grid-footer-viewport")[0];a&&(s.footerViewport=a)}})},post:function(e,i,t,r){{var o=r[0],a=r[1];o.grid}n.disableAnimations(i),a.footer=i;var l=i[0].getElementsByClassName("ui-grid-footer-viewport")[0];l&&(a.footerViewport=l)}}}}}])}(),function(){angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,i,t,n){var r="ui-grid/ui-grid-grid-footer";return{restrict:"EA",replace:!0,require:"^uiGrid",scope:!0,compile:function(){return{pre:function(e,t,o,a){e.grid=a.grid;var l=e.grid.options.gridFooterTemplate?e.grid.options.gridFooterTemplate:r;n.getTemplate(l).then(function(n){var r=angular.element(n),o=i(r)(e);t.append(o)})},post:function(){}}}}}])}(),function(){angular.module("ui.grid").directive("uiGridGroupPanel",["$compile","uiGridConstants","gridUtil",function(e,i,t){var n="ui-grid/ui-grid-group-panel";return{restrict:"EA",replace:!0,require:"?^uiGrid",scope:!1,compile:function(){return{pre:function(i,r){var o=i.grid.options.groupPanelTemplate||n;t.getTemplate(o).then(function(t){var n=angular.element(t),o=e(n)(i);r.append(o)})},post:function(e,i){i.bind("$destroy",function(){})}}}}}])}(),function(){angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent",function(e,i,t,n,r,o,a){var l=500,s={priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["?^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function(i,t){var n=e(i.col.headerCellTemplate)(i);t.append(n)},post:function(e,t,n,s){function d(i){var t=!1;i.shiftKey&&(t=!0),c.grid.sortColumn(e.col,t).then(function(){c.columnMenuScope&&c.columnMenuScope.hideMenu(),c.grid.refresh()})}var c=s[0],u=s[1];e.grid=c.grid,e.renderContainer=c.grid.renderContainers[u.containerId];var p=e.col.getColClass(!1);t.addClass(p),e.menuShown=!1,e.asc=o.ASC,e.desc=o.DESC;var g,f=(angular.element(t[0].querySelectorAll(".ui-grid-header-cell-menu")),angular.element(t[0].querySelectorAll(".ui-grid-cell-contents"))),h=function(){var i=t;g&&(i.removeClass(g),g=null),g=angular.isFunction(e.col.headerCellClass)?e.col.headerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.headerCellClass,i.addClass(g);var n=e.grid.renderContainers.right?e.grid.renderContainers.right:e.grid.renderContainers.body;e.isLastCol=e.col===n.visibleColumnCache[n.visibleColumnCache.length-1]};e.$watch("col",function(i,n){if(i!==n){var r=e.col.getColClass(!1);r!==p&&(t.removeClass(p),t.addClass(r),p=r)}}),h();var m=e.grid.registerDataChangeCallback(h,[o.dataChange.COLUMN]);if(e.$on("$destroy",m),e.sortable=c.grid.options.enableSorting&&e.col.enableSorting?!0:!1,e.filterable=c.grid.options.enableFiltering&&e.col.enableFiltering?!0:!1,e.colMenu=e.col.grid.options&&e.col.grid.options.enableColumnMenus!==!1&&e.col.colDef&&e.col.colDef.enableColumnMenu!==!1?!0:!1,e.sortable||e.colMenu){var v,C=0,w=r.isTouchEnabled()?"touchstart":"mousedown";f.on(w,function(n){n.stopPropagation(),"undefined"!=typeof n.originalEvent&&void 0!==n.originalEvent&&(n=n.originalEvent),n.button&&0!==n.button||(C=(new Date).getTime(),v=i(function(){},l),v.then(function(){e.colMenu&&c.columnMenuScope.showMenu(e.col,t,n)}),c.fireEvent(o.events.COLUMN_HEADER_CLICK,{event:n,columnName:e.col.colDef.name}))});var b=r.isTouchEnabled()?"touchend":"mouseup";f.on(b,function(){i.cancel(v)}),e.$on("$destroy",function(){f.off("mousedown touchstart")})}if(e.toggleMenu=function(i){i.stopPropagation(),c.columnMenuScope.menuShown&&c.columnMenuScope.col===e.col?c.columnMenuScope.hideMenu():c.columnMenuScope.showMenu(e.col,t)},e.sortable){var y=r.isTouchEnabled()?"touchend":"click";f.on(y,function(e){e.stopPropagation(),i.cancel(v);var t=(new Date).getTime(),n=t-C;n>l||d(e)}),e.$on("$destroy",function(){i.cancel(v)})}if(e.filterable){var S=[];angular.forEach(e.col.filters,function(i,t){S.push(e.$watch("col.filters["+t+"].term",function(e,i){e!==i&&(c.grid.api.core.raise.filterChanged(),c.grid.refresh().then(function(){if(c.prevScrollArgs&&c.prevScrollArgs.y&&c.prevScrollArgs.y.percentage){var e=new a(c.grid,null,null,"uiGridHeaderCell.toggleMenu");e.y.percentage=c.prevScrollArgs.y.percentage,e.fireScrollingEvent()}}))}))}),e.$on("$destroy",function(){angular.forEach(S,function(e){e()})})}}}}};return s}])}(),function(){angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,i,t,n){var r="ui-grid/ui-grid-header",o="ui-grid/ui-grid-no-header";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,t,a,l){var s=l[0],d=l[1];e.grid=s.grid,e.colContainer=d.colContainer,d.header=t,d.colContainer.header=t;var c;c=e.grid.options.showHeader?e.grid.options.headerTemplate?e.grid.options.headerTemplate:r:o,n.getTemplate(c).then(function(n){var r=angular.element(n),o=i(r)(e);if(t.replaceWith(o),d.header=o,d.colContainer.header=o,t=o,d){var a=t[0].getElementsByClassName("ui-grid-header-viewport")[0];a&&(d.headerViewport=a)}})},post:function(e,i,t,r){function o(){var e=l.colContainer.getViewportWidth(),i=l.colContainer.visibleColumnCache,t=0,r=0,o=0,a=e,s=!1,d=function(i){return"manual"===i.widthType?+i.width:"percent"===i.widthType?parseInt(i.width.replace(/%/g,""),10)*e/100:"auto"===i.widthType?(0===o&&(o=parseInt(a/r,10)),i.width.length*o):void 0};i.forEach(function(e){e.widthType=null,isFinite(+e.width)?e.widthType="manual":n.endsWith(e.width,"%")?(e.widthType="percent",s=!0):angular.isString(e.width)&&-1!==e.width.indexOf("*")&&(e.widthType="auto",r+=e.width.length,s=!0)});var c=["manual","percent","auto"];if(i.filter(function(e){return e.visible&&e.widthType}).sort(function(e,i){return c.indexOf(e.widthType)-c.indexOf(i.widthType)}).forEach(function(e){var i=d(e);e.minWidth&&(i=Math.max(i,e.minWidth)),e.maxWidth&&(i=Math.min(i,e.maxWidth)),e.drawnWidth=Math.floor(i),t+=e.drawnWidth,a-=e.drawnWidth}),s&&a>0&&t>0&&e>t){var u=function(e){a>0&&("auto"===e.widthType||"percent"===e.widthType)&&(e.drawnWidth=e.drawnWidth+1,t+=1,a--)},p=0;do p=a,i.forEach(u);while(a>0&&a!==p)}t=Math.max(t,e);var g="";return i.forEach(function(e){g+=e.getColClassDefinition()}),i.length>0&&(i[i.length-1].headerWidth=i[i.length-1].drawnWidth-30),l.colContainer.canvasWidth=parseInt(t,10),g}{var a=r[0],l=r[1];a.grid}n.disableAnimations(i),l.header=i;var s=i[0].getElementsByClassName("ui-grid-header-viewport")[0];s&&(l.headerViewport=s),a&&a.grid.registerStyleComputation({priority:5,func:o})}}}}}])}(),function(){angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(e,i,t){var n={initialize:function(e,i){i.gridMenuScope=e,e.grid=i,e.registeredMenuItems=[],e.$on("$destroy",function(){e.grid&&e.grid.gridMenuScope&&(e.grid.gridMenuScope=null),e.grid&&(e.grid=null),e.registeredMenuItems&&(e.registeredMenuItems=null)}),e.registeredMenuItems=[],i.api.registerMethod("core","addToGridMenu",n.addToGridMenu),i.api.registerMethod("core","removeFromGridMenu",n.removeFromGridMenu)},addToGridMenu:function(i,t){angular.isArray(t)?i.gridMenuScope?(i.gridMenuScope.registeredMenuItems=i.gridMenuScope.registeredMenuItems?i.gridMenuScope.registeredMenuItems:[],i.gridMenuScope.registeredMenuItems=i.gridMenuScope.registeredMenuItems.concat(t)):e.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid"):e.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(i,t){var n=-1;i&&i.gridMenuScope&&i.gridMenuScope.registeredMenuItems.forEach(function(i,r){i.id===t&&(n>-1?e.logError("removeFromGridMenu: found multiple items with the same id, removing only the last"):n=r)}),n>-1&&i.gridMenuScope.registeredMenuItems.splice(n,1)},getMenuItems:function(i){var t=[];return i.grid.options.gridMenuCustomItems&&(angular.isArray(i.grid.options.gridMenuCustomItems)?t=t.concat(i.grid.options.gridMenuCustomItems):e.logError("gridOptions.gridMenuCustomItems must be an array, and is not")),t=t.concat(i.registeredMenuItems),i.grid.options.gridMenuShowHideColumns!==!1&&(t=t.concat(n.showHideColumns(i))),t},showHideColumns:function(e){var t=[];return e.grid.options.columnDefs&&0!==e.grid.options.columnDefs.length&&0!==e.grid.columns.length?(t.push({title:i.getSafeText("gridMenu.columns")}),e.grid.options.gridMenuTitleFilter=e.grid.options.gridMenuTitleFilter?e.grid.options.gridMenuTitleFilter:function(e){return e},e.grid.options.columnDefs.forEach(function(i){if(i.enableHiding!==!1){var r={icon:"ui-grid-icon-ok",action:function(e){e.stopPropagation(),n.toggleColumnVisibility(this.context.gridCol)},shown:function(){return this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible},context:{gridCol:e.grid.getColumn(i.name||i.field)}};n.setMenuItemTitle(r,i,e.grid),t.push(r),r={icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),n.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!(this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible)},context:{gridCol:e.grid.getColumn(i.name||i.field)}},n.setMenuItemTitle(r,i,e.grid),t.push(r)}}),t):t},setMenuItemTitle:function(i,t,n){var r=n.options.gridMenuTitleFilter(t.displayName||t.name||t.field);"string"==typeof r?i.title=r:r.then?(i.title="",r.then(function(e){i.title=e},function(e){i.title=e})):(e.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),i.title="badconfig")},toggleColumnVisibility:function(e){e.colDef.visible=!(e.colDef.visible===!0||void 0===e.colDef.visible),e.grid.refresh(),e.grid.api.core.notifyDataChange(t.dataChange.COLUMN)}};return n}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService",function(e,i,t){return{priority:0,scope:!0,require:["?^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function(e,i,n,r){var o=r[0];t.initialize(e,o.grid),e.shown=!1,e.toggleMenu=function(){e.shown?(e.$broadcast("hide-menu"),e.shown=!1):(e.menuItems=t.getMenuItems(e),e.$broadcast("show-menu"),e.shown=!0)},e.$on("menu-hidden",function(){e.shown=!1})}}}])}(),function(){angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants",function(e,i,t,n,r,o){var a={priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(e,n,r,a){var l=this;l.showMenu=e.showMenu=function(t,n){e.shown?e.shownMid||(e.shownMid=!0,e.$emit("menu-shown")):(e.shown=!0,i(function(){e.shownMid=!0,e.$emit("menu-shown")}));var r="click";n&&n.originalEvent&&n.originalEvent.type&&"touchstart"===n.originalEvent.type&&(r=n.originalEvent.type),angular.element(document).off("click touchstart",s),i(function(){angular.element(document).on(r,s)})},l.hideMenu=e.hideMenu=function(){e.shown&&(e.shownMid=!1,i(function(){e.shownMid||(e.shown=!1,e.$emit("menu-hidden"))},200)),angular.element(document).off("click touchstart",s)},e.$on("hide-menu",function(i,t){e.hideMenu(i,t)}),e.$on("show-menu",function(i,t){e.showMenu(i,t)});var s=function(){e.shown&&e.$apply(function(){e.hideMenu()})};("undefined"==typeof e.autoHide||void 0===e.autoHide)&&(e.autoHide=!0),e.autoHide&&angular.element(t).on("resize",s),e.$on("$destroy",function(){angular.element(document).off("click touchstart",s)}),e.$on("$destroy",function(){angular.element(t).off("resize",s)}),a&&e.$on("$destroy",a.grid.api.core.on.scrollEvent(e,s)),e.$on("$destroy",e.$on(o.events.ITEM_DRAGGING,s))},controller:["$scope","$element","$attrs",function(){}]};return a}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(e,i,t){var n={priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"="},require:["?^uiGrid","^uiGridMenu"],templateUrl:"ui-grid/uiGridMenuItem",replace:!0,compile:function(){return{pre:function(t,n,r,o){o[0],o[1];t.templateUrl&&e.getTemplate(t.templateUrl).then(function(e){var r=angular.element(e),o=i(r)(t);n.replaceWith(o)})},post:function(e,i,n,r){{var o=r[0];r[1]}("undefined"==typeof e.shown||null===e.shown)&&(e.shown=function(){return!0}),e.itemShown=function(){var i={};return e.context&&(i.context=e.context),"undefined"!=typeof o&&o&&(i.grid=o.grid),e.shown.call(i)},e.itemAction=function(i,t){if(i.stopPropagation(),"function"==typeof e.action){var n={};e.context&&(n.context=e.context),"undefined"!=typeof o&&o&&(n.grid=o.grid),e.action.call(n,i,t),e.$emit("hide-menu")}},e.i18n=t.get()}}}};return n}])}(),function(){var e=angular.module("ui.grid");e.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function(e,i,t,n,r){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(e,i,t,n){var r=n[0],o=n[1],a=e.grid=r.grid;if(!e.rowContainerName)throw"No row render container name specified";if(!e.colContainerName)throw"No column render container name specified";if(!a.renderContainers[e.rowContainerName])throw"Row render container '"+e.rowContainerName+"' is not registered.";if(!a.renderContainers[e.colContainerName])throw"Column render container '"+e.colContainerName+"' is not registered.";var l=e.rowContainer=a.renderContainers[e.rowContainerName],s=e.colContainer=a.renderContainers[e.colContainerName];o.containerId=e.containerId,o.rowContainer=l,o.colContainer=s},post:function(e,t,o,a){function l(i){if(!i.grid||i.grid.id===g.id){if(i.y&&e.bindScrollVertical){p.prevScrollArgs=i;var t=i.getNewScrollTop(f,p.viewport);(i.source!==r.Sources.ViewPortScroll||i.sourceColContainer!==h)&&(p.viewport[0].scrollTop=t)}if(i.x&&e.bindScrollHorizontal){p.prevScrollArgs=i;var o=i.getNewScrollLeft(h,p.viewport);e.newScrollLeft=o,p.headerViewport&&(p.headerViewport.scrollLeft=n.denormalizeScrollLeft(p.headerViewport,o)),p.footerViewport&&(p.footerViewport.scrollLeft=n.denormalizeScrollLeft(p.footerViewport,o)),i.source!==r.Sources.ViewPortScroll&&(p.viewport[0].scrollLeft=o),p.prevScrollLeft=o}}}function s(e){e.originalEvent&&(e=e.originalEvent),e.preventDefault();var i,t,n,o;n=e.targetTouches[0].screenX,o=e.targetTouches[0].screenY,i=-(n-w),t=-(o-C),S=1>t?-1:1,E=1>i?-1:1,t*=2,i*=2;var a=new r(g,f,h,r.Sources.RenderContainerTouchMove);if(0!==t){var l=(b+t)/f.getVerticalScrollLength();l>1?l=1:0>l&&(l=0),a.y={percentage:l,pixels:t}}if(0!==i){var s=(y+i)/(h.getCanvasWidth()-h.getViewportWidth());s>1?s=1:0>s&&(s=0),a.x={percentage:s,pixels:i}}a.fireScrollingEvent()}function d(e){e.originalEvent&&(e=e.originalEvent),i.unbind("touchmove",s),i.unbind("touchend",d),i.unbind("touchcancel",d);{var t=p.viewport[0].scrollTop,n=p.viewport[0].scrollTop;Math.abs(t-b),Math.abs(n-y),new Date-v}}function c(){var i="",t=h.getCanvasWidth(),n=h.getViewportWidth(),r=f.getCanvasHeight();"body"!==e.containerId&&(r+=g.scrollbarHeight);var o=f.getViewportHeight(),a=h.getHeaderViewportWidth(),l=h.getHeaderViewportWidth();return i+="\n .grid"+u.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-canvas { width: "+t+"px; height: "+r+"px; }",i+="\n .grid"+u.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { width: "+(t+g.scrollbarWidth)+"px; }",i+="\n .grid"+u.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-viewport { width: "+n+"px; height: "+o+"px; }",i+="\n .grid"+u.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-viewport { width: "+a+"px; }",i+="\n .grid"+u.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-canvas { width: "+t+g.scrollbarWidth+"px; }",i+="\n .grid"+u.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-viewport { width: "+l+"px; }",void 0!==m.explicitHeaderHeight&&null!==m.explicitHeaderHeight&&m.explicitHeaderHeight>0?i+="\n .grid"+u.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-cell { height: "+m.explicitHeaderHeight+"px; }":void 0!==m.innerHeaderHeight&&null!==m.innerHeaderHeight&&m.innerHeaderHeight>0&&(i+="\n .grid"+u.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-cell { height: "+m.innerHeaderHeight+"px; }"),i}var u=a[0],p=a[1],g=u.grid,f=p.rowContainer,h=p.colContainer,m=g.renderContainers[e.containerId];t.addClass("ui-grid-render-container-"+e.containerId),(e.bindScrollHorizontal||e.bindScrollVertical)&&g.api.core.on.scrollEvent(e,l),t.bind("wheel mousewheel DomMouseScroll MozMousePixelScroll",function(e){var i=n.normalizeWheelEvent(e),t=new r(g,f,h,r.Sources.RenderContainerMouseWheel);if(0!==i.deltaY){var o=-120*i.deltaY,a=(p.viewport[0].scrollTop+o)/f.getVerticalScrollLength();0>a?a=0:a>1&&(a=1),t.y={percentage:a,pixels:o}}if(0!==i.deltaX){var l=-120*i.deltaX,s=n.normalizeScrollLeft(p.viewport),d=(s+l)/(h.getCanvasWidth()-h.getViewportWidth());0>d?d=0:d>1&&(d=1),t.x={percentage:d,pixels:l}}(t.y&&0!==t.y.percentage&&1!==t.y.percentage&&0!==p.viewport[0].scrollTop||t.x&&0!==t.x.percentage&&1!==t.x.percentage)&&e.preventDefault(),t.fireThrottledScrollingEvent()});var v,C=0,w=0,b=0,y=0,S=1,E=1;n.isTouchEnabled()&&t.bind("touchstart",function(e){e.originalEvent&&(e=e.originalEvent),u.scrollbars.forEach(function(e){e.addClass("ui-grid-scrollbar-visible"),e.addClass("ui-grid-scrolling")}),v=new Date,C=e.targetTouches[0].screenY,w=e.targetTouches[0].screenX,b=p.viewport[0].scrollTop,y=p.viewport[0].scrollLeft,i.on("touchmove",s),i.on("touchend touchcancel",d)}),t.bind("$destroy",function(){t.unbind("keydown"),["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(e){t.unbind(e)})}),u.grid.registerStyleComputation({priority:6,func:c})}}}}}]),e.controller("uiGridRenderContainer",["$scope","gridUtil",function(e){var i=this;i.rowStyle=function(t){var n=e.grid.renderContainers[e.containerId],r={};if(!n.disableRowOffset&&0===t&&0!==i.currentTopRow){var o=e.rowContainer.currentTopRow*e.rowContainer.visibleRowCache[e.rowContainer.currentTopRow].height;r["margin-top"]=o+"px"}return n.disableColumnOffset||0===e.colContainer.currentFirstColumn||(e.grid.isRTL()?r["margin-right"]=e.colContainer.columnOffset+"px":r["margin-left"]=e.colContainer.columnOffset+"px"),r},i.columnStyle=function(i){var t=e.grid.renderContainers[e.containerId];if(!t.disableColumnOffset&&0===i&&0!==e.colContainer.currentFirstColumn){var n=e.colContainer.columnOffset;return e.grid.isRTL()?{"margin-right":n+"px"}:{"margin-left":n+"px"}}return null}}])}(),function(){angular.module("ui.grid").directive("uiGridRow",["gridUtil",function(){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(e,i,t,n){function r(){e.row.getRowTemplateFn.then(function(t){var n=e.$new();t(n,function(e){l&&(l.remove(),s.$destroy()),i.empty().append(e),l=e,s=n})})}{var o=n[0],a=n[1];o.grid}e.grid=o.grid,e.colContainer=a.colContainer;var l,s;r(),e.$watch("row.getRowTemplateFn",function(e,i){e!==i&&r()})},post:function(){}}}}}])}(),function(){angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(e,i){return{link:function(e,t){var n=i(t.text(),!0);n&&e.$watch(n,function(e){t.text(e)})}}}])}(),function(){angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent",function(e,i){return{replace:!0,scope:{},templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(t,n,r,o){var a=o[0],l=o[1];t.containerCtrl=l;var s=l.rowContainer,d=l.colContainer,c=a.grid;t.grid=a.grid,t.rowContainer=l.rowContainer,t.colContainer=l.colContainer,l.viewport=n,n.on("scroll",function(){var t=n[0].scrollTop,r=e.normalizeScrollLeft(n),o=-1,a=-1;if(r!==d.prevScrollLeft){c.flagScrollingHorizontally();var l=(r-d.prevScrollLeft,d.getCanvasWidth()-d.getViewportWidth());o=0!==l?r/l:0,d.adjustScrollHorizontal(r,o)}if(t!==s.prevScrollTop){c.flagScrollingVertically();var u=(t-s.prevScrollTop,s.getVerticalScrollLength());a=t/u,a>1&&(a=1),0>a&&(a=0),s.adjustScrollVertical(t,a)}var p=new i(c,s,d,i.Sources.ViewPortScroll);p.newScrollLeft=r,p.newScrollTop=t,o>-1&&(p.x={percentage:o}),a>-1&&(p.y={percentage:a}),p.fireScrollingEvent()})}}}])}(),function(){angular.module("ui.grid").directive("uiGridVisible",function(){return function(e,i,t){e.$watch(t.uiGridVisible,function(e){i[e?"removeClass":"addClass"]("ui-grid-invisible")})}})}(),function(){angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","$templateCache","gridClassFactory","$timeout","$parse","$compile",function(e,i,t,n,r,o,a,l,s,d,c){function u(e,i){e&&e!==i&&(g.grid.options.columnDefs=e,g.grid.buildColumns({orderByColumnDefs:!0}).then(function(){g.grid.preCompileCellTemplates(),g.grid.callDataChangeCallbacks(o.dataChange.COLUMN)}))}function p(i){var n=[];i&&(g.grid.columns.length===(g.grid.rowHeaderColumns?g.grid.rowHeaderColumns.length:0)&&!t.uiGridColumns&&0===g.grid.options.columnDefs.length&&i.length>0&&g.grid.buildColumnDefsFromData(i),(g.grid.options.columnDefs.length>0||i.length>0)&&n.push(g.grid.buildColumns().then(function(){g.grid.preCompileCellTemplates()})),r.all(n).then(function(){g.grid.modifyRows(i).then(function(){g.grid.redrawInPlace(),e.$evalAsync(function(){g.grid.refreshCanvas(!0),g.grid.callDataChangeCallbacks(o.dataChange.ROW)})})}))}var g=this;g.grid=l.createGrid(e.uiGrid),g.grid.appScope=g.grid.appScope||e.$parent,i.addClass("grid"+g.grid.id),g.grid.rtl="rtl"===n.getStyles(i[0]).direction,e.grid=g.grid,t.uiGridColumns&&t.$observe("uiGridColumns",function(e){g.grid.options.columnDefs=e,g.grid.buildColumns().then(function(){g.grid.preCompileCellTemplates(),g.grid.refreshCanvas(!0)})});var f;f=angular.isString(e.uiGrid.data)?e.$parent.$watchCollection(e.uiGrid.data,p):e.$parent.$watchCollection(function(){return e.uiGrid.data},p);var h=e.$parent.$watchCollection(function(){return e.uiGrid.columnDefs},u);e.$on("$destroy",function(){f(),h()}),e.$watch(function(){return g.grid.styleComputations},function(){g.grid.refreshCanvas(!0)}),g.fireEvent=function(i,t){("undefined"==typeof t||void 0===t)&&(t={}),("undefined"==typeof t.grid||void 0===t.grid)&&(t.grid=g.grid),e.$broadcast(i,t)},g.innerCompile=function(i){c(i)(e)}}]),angular.module("ui.grid").directive("uiGrid",["$compile","$templateCache","gridUtil","$window","uiGridConstants",function(e,i,t,n,r){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(e,i,o,a){function l(){s.gridWidth=e.gridWidth=t.elementWidth(i),s.gridHeight=e.gridHeight=t.elementHeight(i),s.refreshCanvas(!0)}var s=a.grid;if(a.scrollbars=[],s.renderingComplete(),s.element=i,s.gridWidth=e.gridWidth=t.elementWidth(i),s.canvasWidth=a.grid.gridWidth,s.gridHeight=e.gridHeight=t.elementHeight(i),s.gridHeight<s.options.rowHeight){var d=s.options.minRowsToShow*s.options.rowHeight,c=s.options.showHeader?s.options.headerRowHeight:0,u=s.calcFooterHeight(),p=0;
s.options.enableHorizontalScrollbar===r.scrollbars.ALWAYS&&(p=t.getScrollbarWidth());var g=0;angular.forEach(s.options.columnDefs,function(e){e.hasOwnProperty("filter")?1>g&&(g=1):e.hasOwnProperty("filters")&&g<e.filters.length&&(g=e.filters.length)});var f=g*c,h=c+d+u+p+f;i.css("height",h+"px"),s.gridHeight=e.gridHeight=t.elementHeight(i)}s.refreshCanvas(),e.$watch(function(){return s.hasLeftContainer()},function(e,i){e!==i&&s.refreshCanvas(!0)}),e.$watch(function(){return s.hasRightContainer()},function(e,i){e!==i&&s.refreshCanvas(!0)}),angular.element(n).on("resize",l),i.on("$destroy",function(){angular.element(n).off("resize",l)})}}}}}])}(),function(){angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(){return{restrict:"EA",replace:!0,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(e,i,t,n){function r(){if("left"===e.side||"right"===e.side){for(var i=a.renderContainers[e.side].visibleColumnCache,t=0,n=0;n<i.length;n++){var r=i[n];t+=r.drawnWidth||r.width||0}l=t}}function o(){var t="";if("left"===e.side||"right"===e.side){r(),i.attr("style",null);var n=a.renderContainers.body.getViewportHeight();t+=".grid"+a.id+" .ui-grid-pinned-container-"+e.side+", .grid"+a.id+" .ui-grid-pinned-container-"+e.side+" .ui-grid-render-container-"+e.side+" .ui-grid-viewport { width: "+l+"px; height: "+n+"px; } "}return t}var a=n.grid,l=0;i.addClass("ui-grid-pinned-container-"+e.side),a.renderContainers.body.registerViewportAdjuster(function(e){return 0!==l&&l||r(),e.width-=l,e}),a.registerStyleComputation({priority:15,func:o})}}}}}])}(),function(){angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout",function(e,i,t,n,r,o,a,l,s,d,c,u,p){function g(){}var f=function(e){var i=this;if(void 0===e||"undefined"==typeof e.id||!e.id)throw new Error("No ID provided. An ID must be given when creating a grid.");if(!/^[_a-zA-Z0-9-]+$/.test(e.id))throw new Error("Grid id '"+e.id+'" is invalid. It must follow CSS selector syntax rules.');i.id=e.id,delete e.id,i.options=o.initialize(e),i.appScope=i.options.appScopeProvider,i.headerHeight=i.options.headerRowHeight,i.footerHeight=i.calcFooterHeight(),i.rtl=!1,i.gridHeight=0,i.gridWidth=0,i.columnBuilders=[],i.rowBuilders=[],i.rowsProcessors=[],i.columnsProcessors=[],i.styleComputations=[],i.viewportAdjusters=[],i.rowHeaderColumns=[],i.dataChangeCallbacks={},i.renderContainers={},i.renderContainers.body=new u("body",i),i.cellValueGetterCache={},i.getRowTemplateFn=null,i.rows=[],i.columns=[],i.isScrollingVertically=!1,i.isScrollingHorizontally=!1;var t=n.debounce(function(){i.isScrollingVertically=!1},300),a=n.debounce(function(){i.isScrollingHorizontally=!1},300);i.flagScrollingVertically=function(){i.isScrollingVertically=!0,t()},i.flagScrollingHorizontally=function(){i.isScrollingHorizontally=!0,a()},i.scrollbarHeight=0,i.scrollbarWidth=0,i.options.enableHorizontalScrollbar===r.scrollbars.ALWAYS&&(i.scrollbarHeight=n.getScrollbarWidth()),i.options.enableVerticalScrollbar===r.scrollbars.ALWAYS&&(i.scrollbarWidth=n.getScrollbarWidth()),i.api=new s(i),i.api.registerMethod("core","refresh",this.refresh),i.api.registerMethod("core","refreshRows",this.refreshRows),i.api.registerMethod("core","handleWindowResize",this.handleWindowResize),i.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn),i.api.registerMethod("core","sortHandleNulls",d.handleNulls),i.api.registerEvent("core","sortChanged"),i.api.registerMethod("core","notifyDataChange",this.notifyDataChange),i.registerDataChangeCallback(i.columnRefreshCallback,[r.dataChange.COLUMN]),i.registerDataChangeCallback(i.processRowsCallback,[r.dataChange.EDIT]),i.registerStyleComputation({priority:10,func:i.getFooterStyles})};return f.prototype.calcFooterHeight=function(){if(!this.hasFooter())return 0;var e=0;return this.options.showGridFooter&&(e+=this.options.gridFooterHeight),this.options.showColumnFooter&&(e+=this.options.columnFooterHeight),e},f.prototype.getFooterStyles=function(){var e=".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; }";return e+=" .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }"},f.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter},f.prototype.isRTL=function(){return this.rtl},f.prototype.registerColumnBuilder=function(e){this.columnBuilders.push(e)},f.prototype.buildColumnDefsFromData=function(e){this.options.columnDefs=n.getColumnsFromData(e,this.options.excludeProperties)},f.prototype.registerRowBuilder=function(e){this.rowBuilders.push(e)},f.prototype.registerDataChangeCallback=function(e,i,t){var o=n.nextUid();i||(i=[r.dataChange.ALL]),Array.isArray(i)||n.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+i),this.dataChangeCallbacks[o]={callback:e,types:i,_this:t};var a=this,l=function(){delete a.dataChangeCallbacks[o]};return l},f.prototype.callDataChangeCallbacks=function(e){angular.forEach(this.dataChangeCallbacks,function(i){(-1!==i.types.indexOf(r.dataChange.ALL)||-1!==i.types.indexOf(e)||e===r.dataChange.ALL)&&(i._this?i.callback.apply(i._this,this):i.callback(this))},this)},f.prototype.notifyDataChange=function(e){var i=r.dataChange;e===i.ALL||e===i.COLUMN||e===i.EDIT||e===i.ROW||e===i.OPTIONS?this.callDataChangeCallbacks(e):n.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+e)},f.prototype.columnRefreshCallback=function(e){e.buildColumns(),e.refresh()},f.prototype.processRowsCallback=function(e){e.refreshRows()},f.prototype.getColumn=function(e){var i=this.columns.filter(function(i){return i.colDef.name===e});return i.length>0?i[0]:null},f.prototype.getColDef=function(e){var i=this.options.columnDefs.filter(function(i){return i.name===e});return i.length>0?i[0]:null},f.prototype.assignTypes=function(){var e=this;e.options.columnDefs.forEach(function(i,t){if(!i.type){var r=new a(i,t,e),o=e.rows.length>0?e.rows[0]:null;o?i.type=n.guessType(e.getCellValue(o,r)):(n.logWarn("Unable to assign type from data, so defaulting to string"),i.type="string")}})},f.prototype.addRowHeaderColumn=function(e){var i=this,t=new a(e,i.rowHeaderColumns.length,i);t.isRowHeader=!0,i.isRTL()?(i.createRightContainer(),t.renderContainer="right"):(i.createLeftContainer(),t.renderContainer="left"),i.columnBuilders[0](e,t,i.options).then(function(){t.enableFiltering=!1,t.enableSorting=!1,t.enableHiding=!1,i.rowHeaderColumns.push(t),i.buildColumns().then(function(){i.preCompileCellTemplates(),i.refresh()})})},f.prototype.buildColumns=function(i){var t={orderByColumnDefs:!1};angular.extend(t,i);var r,o=this,l=[],s=o.rowHeaderColumns.length;for(r=0;r<o.columns.length;r++)o.getColDef(o.columns[r].name)||(o.columns.splice(r,1),r--);if(o.rowHeaderColumns.forEach(function(e){o.columns.unshift(e)}),o.options.columnDefs.forEach(function(e,i){o.preprocessColDef(e);var t=o.getColumn(e.name);t?t.updateColumnDef(e,!1):(t=new a(e,n.nextUid(),o),o.columns.splice(i+s,0,t)),o.columnBuilders.forEach(function(i){l.push(i.call(o,e,t,o.options))})}),t.orderByColumnDefs){var d=o.columns.slice(0);for(r=0;r<o.options.columnDefs.length;r++)d[r+s]=o.columns[r+s].name!==o.options.columnDefs[r].name?o.getColumn(o.options.columnDefs[r].name):o.columns[r+s];o.columns.length=0,Array.prototype.splice.apply(o.columns,[0,0].concat(d))}return e.all(l).then(function(){o.rows.length>0&&o.assignTypes()})},f.prototype.preCompileCellTemplates=function(){var e=this;this.columns.forEach(function(t){var n=t.cellTemplate.replace(r.MODEL_COL_FIELD,e.getQualifiedColField(t));n=n.replace(r.COL_FIELD,"grid.getCellValue(row, col)");var o=i(n);t.compiledElementFn=o,t.compiledElementFnDefer&&t.compiledElementFnDefer.resolve(t.compiledElementFn)})},f.prototype.getQualifiedColField=function(e){return"row.entity."+n.preEval(e.field)},f.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new u("left",this,{disableColumnOffset:!0}))},f.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new u("right",this,{disableColumnOffset:!0}))},f.prototype.hasLeftContainer=function(){return void 0!==this.renderContainers.left},f.prototype.hasRightContainer=function(){return void 0!==this.renderContainers.right},f.prototype.preprocessColDef=function(e){var i=this;if(!e.field&&!e.name)throw new Error("colDef.name or colDef.field property is required");if(void 0===e.name&&void 0!==e.field){var t=i.getColumn(e.field);if(t){var n=new RegExp("^"+e.field+"(\\d+)$","i"),r=i.columns.filter(function(e){return n.test(e.displayName)}).sort(function(e,i){if(e===i)return 0;var t=e.match(n)[1],r=i.match(n)[1];return parseInt(t,10)>parseInt(r,10)?1:-1});if(0===r.length)e.name=e.field+"2";else{var o=r[r.length-1].displayName.match(n)[1];o=parseInt(o,10),e.name=e.field+(o+1)}}else e.name=e.field}},f.prototype.newInN=function(e,i,t,n){for(var r=this,o=[],a=0;a<i.length;a++){for(var l=n?i[a][n]:i[a],s=!1,d=0;d<e.length;d++){var c=t?e[d][t]:e[d];if(r.options.rowEquality(l,c)){s=!0;break}}s||o.push(l)}return o},f.prototype.getRow=function(e){var i=this,t=this.rows.filter(function(t){return i.options.rowEquality(t.entity,e)});return t.length>0?t[0]:null},f.prototype.modifyRows=function(i){var t,n,r,o,a=this;if((a.options.useExternalSorting||0===a.getColumnSorting().length)&&i.length>0){var s=a.rowHashMap;s||(s={get:function(){return null}}),a.createRowHashMap(),n=a.rowHashMap;{0===a.rows.length}for(a.rows.length=0,t=0;t<i.length;t++){var d=i[t];r=s.get(d),o=r?r.row:a.processRowBuilders(new l(d,t,a)),a.rows.push(o),n.put(d,{i:t,entity:d,row:o})}a.assignTypes()}else if(0===a.rows.length&&i.length>0){if(a.options.enableRowHashing)for(a.rowHashMap||a.createRowHashMap(),t=0;t<i.length;t++)o=i[t],a.rowHashMap.put(o,{i:t,entity:o});a.addRows(i),a.assignTypes()}else if(i.length>0){var c,u,p;if(a.options.enableRowHashing){c=[],p=[];var g={};for(u=[],a.rowHashMap||a.createRowHashMap(),n=a.rowHashMap,t=0;t<i.length;t++){o=i[t];var f=!1;a.options.getRowIdentity(o)||(f=!0),r=n.get(o),r?r.row&&(g[a.options.rowIdentity(o)]=!0):(n.put(o,{i:t,entity:o}),f?p.push(o):c.push(o))}for(t=0;t<a.rows.length;t++){var h=a.rows[t],m=a.options.rowIdentity(h.entity);g[m]||u.push(h)}}var v=c||[],C=p||i;v=v.concat(a.newInN(a.rows,C,"entity")),a.addRows(v);var w=a.getDeletedRows(u||a.rows,i);for(t=0;t<w.length;t++)a.options.enableRowHashing&&a.rowHashMap.remove(w[t].entity),a.rows.splice(a.rows.indexOf(w[t]),1)}else a.createRowHashMap(),a.rows.length=0;var b=e.when(a.processRowsProcessors(a.rows)).then(function(e){return a.setVisibleRows(e)}),y=e.when(a.processColumnsProcessors(a.columns)).then(function(e){return a.setVisibleColumns(e)});return e.all([b,y])},f.prototype.getDeletedRows=function(e,i){var t=this,n=e.filter(function(e){return!i.some(function(i){return t.options.rowEquality(i,e.entity)})});return n},f.prototype.addRows=function(e){for(var i=this,t=i.rows.length,n=0;n<e.length;n++){var r=i.processRowBuilders(new l(e[n],n+t,i));if(i.options.enableRowHashing){var o=i.rowHashMap.get(r.entity);o&&(o.row=r)}i.rows.push(r)}},f.prototype.processRowBuilders=function(e){var i=this;return i.rowBuilders.forEach(function(t){t.call(i,e,i.options)}),e},f.prototype.registerStyleComputation=function(e){this.styleComputations.push(e)},f.prototype.registerRowsProcessor=function(e){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.rowsProcessors.push(e)},f.prototype.removeRowsProcessor=function(e){var i=this.rowsProcessors.indexOf(e);"undefined"!=typeof i&&void 0!==i&&this.rowsProcessors.splice(i,1)},f.prototype.processRowsProcessors=function(i){function t(i,r){var a=n.rowsProcessors[i];return e.when(a.call(n,r,n.columns)).then(function(e){if(!e)throw"Processor at index "+i+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+i+" did not return an array";return i++,i<=n.rowsProcessors.length-1?t(i,e):void o.resolve(e)})}var n=this,r=i.slice(0);if(0===n.rowsProcessors.length)return e.when(r);var o=e.defer();return t(0,r),o.promise},f.prototype.setVisibleRows=function(e){var i=this;for(var t in i.renderContainers){var n=i.renderContainers[t];n.canvasHeightShouldUpdate=!0,"undefined"==typeof n.visibleRowCache?n.visibleRowCache=[]:n.visibleRowCache.length=0}for(var r=0;r<e.length;r++){var o=e[r];o.visible&&("undefined"!=typeof o.renderContainer&&o.renderContainer?i.renderContainers[o.renderContainer].visibleRowCache.push(o):i.renderContainers.body.visibleRowCache.push(o))}i.api.core.raise.rowsRendered(this.api)},f.prototype.registerColumnsProcessor=function(e){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.columnsProcessors.push(e)},f.prototype.removeColumnsProcessor=function(e){var i=this.columnsProcessors.indexOf(e);"undefined"!=typeof i&&void 0!==i&&this.columnsProcessors.splice(i,1)},f.prototype.processColumnsProcessors=function(i){function t(i,a){var l=n.columnsProcessors[i];return e.when(l.call(n,a,n.rows)).then(function(e){if(!e)throw"Processor at index "+i+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+i+" did not return an array";return i++,i<=n.columnsProcessors.length-1?t(i,r):void o.resolve(r)})}var n=this,r=i.slice(0);if(0===n.columnsProcessors.length)return e.when(r);var o=e.defer();return t(0,r),o.promise},f.prototype.setVisibleColumns=function(e){var i=this;for(var t in i.renderContainers){var n=i.renderContainers[t];n.visibleColumnCache.length=0}for(var r=0;r<e.length;r++){var o=e[r];o.visible&&("undefined"!=typeof o.renderContainer&&o.renderContainer?i.renderContainers[o.renderContainer].visibleColumnCache.push(o):i.renderContainers.body.visibleColumnCache.push(o))}},f.prototype.handleWindowResize=function(){var e=this;e.gridWidth=n.elementWidth(e.element),e.gridHeight=n.elementHeight(e.element),e.queueRefresh()},f.prototype.queueRefresh=function(){var e=this;return e.refreshCanceller&&p.cancel(e.refreshCanceller),e.refreshCanceller=p(function(){e.refreshCanvas(!0)}),e.refreshCanceller.then(function(){e.refreshCanceller=null}),e.refreshCanceller},f.prototype.updateCanvasHeight=function(){var e=this;for(var i in e.renderContainers)if(e.renderContainers.hasOwnProperty(i)){var t=e.renderContainers[i];t.canvasHeightShouldUpdate=!0}},f.prototype.buildStyles=function(){var e=this;e.customStyles="",e.styleComputations.sort(function(e,i){return null===e.priority?1:null===i.priority?-1:null===e.priority&&null===i.priority?0:e.priority-i.priority}).forEach(function(i){var t=i.func.call(e);angular.isString(t)&&(e.customStyles+="\n"+t)})},f.prototype.minColumnsToRender=function(){var e=this,i=this.getViewportWidth(),t=0,n=0;return e.columns.forEach(function(r,o){if(i>n)n+=r.drawnWidth,t++;else{for(var a=0,l=o;l>=o-t;l--)a+=e.columns[l].drawnWidth;i>a&&t++}}),t},f.prototype.getBodyHeight=function(){var e=this.getViewportHeight();return e},f.prototype.getViewportHeight=function(){var e=this,i=this.gridHeight-this.headerHeight-this.footerHeight,t=e.getViewportAdjustment();return i+=t.height},f.prototype.getViewportWidth=function(){var e=this,i=this.gridWidth,t=e.getViewportAdjustment();return i+=t.width},f.prototype.getHeaderViewportWidth=function(){var e=this.getViewportWidth();return e},f.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},f.prototype.removeViewportAdjuster=function(e){var i=this.viewportAdjusters.indexOf(e);"undefined"!=typeof i&&void 0!==i&&this.viewportAdjusters.splice(i,1)},f.prototype.getViewportAdjustment=function(){var e=this,i={height:0,width:0};return e.viewportAdjusters.forEach(function(e){i=e.call(this,i)}),i},f.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},f.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},f.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},f.prototype.searchRows=function(e){return c.search(this,e,this.columns)},f.prototype.sortByColumn=function(e){return d.sort(this,e,this.columns)},f.prototype.getCellValue=function(e,i){var n=this;return n.cellValueGetterCache[i.colDef.name]||(n.cellValueGetterCache[i.colDef.name]=t(e.getEntityQualifiedColField(i))),n.cellValueGetterCache[i.colDef.name](e)},f.prototype.getNextColumnSortPriority=function(){var e=this,i=0;return e.columns.forEach(function(e){e.sort&&e.sort.priority&&e.sort.priority>i&&(i=e.sort.priority)}),i+1},f.prototype.resetColumnSorting=function(e){var i=this;i.columns.forEach(function(i){i===e||i.colDef.suppressRemoveSort||(i.sort={})})},f.prototype.getColumnSorting=function(){var e,i=this,t=[];return e=i.columns.slice(0),e.sort(d.prioritySort).forEach(function(e){e.sort&&"undefined"!=typeof e.sort.direction&&e.sort.direction&&(e.sort.direction===r.ASC||e.sort.direction===r.DESC)&&t.push(e)}),t},f.prototype.sortColumn=function(i,t,n){var o=this,a=null;if("undefined"==typeof i||!i)throw new Error("No column parameter provided");return"boolean"==typeof t?n=t:a=t,n?i.sort.priority=o.getNextColumnSortPriority():(o.resetColumnSorting(i),i.sort.priority=0),i.sort.direction=a?a:i.sort.direction&&i.sort.direction===r.ASC?r.DESC:i.sort.direction&&i.sort.direction===r.DESC?i.colDef&&i.colDef.suppressRemoveSort?r.ASC:null:r.ASC,o.api.core.raise.sortChanged(o,o.getColumnSorting()),e.when(i)},f.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api),this.api.core.raise.renderingComplete(this.api)},f.prototype.createRowHashMap=function(){var e=this,i=new g;i.grid=e,e.rowHashMap=i},f.prototype.refresh=function(){var i=this,t=i.processRowsProcessors(i.rows).then(function(e){i.setVisibleRows(e)}),n=i.processColumnsProcessors(i.columns).then(function(e){i.setVisibleColumns(e)});return e.all([t,n]).then(function(){i.redrawInPlace(),i.refreshCanvas(!0)})},f.prototype.refreshRows=function(){var e=this;return e.processRowsProcessors(e.rows).then(function(i){e.setVisibleRows(i),e.redrawInPlace(),e.refreshCanvas(!0)})},f.prototype.refreshCanvas=function(i){var t=this;i&&t.buildStyles();var r=e.defer(),o=[];for(var a in t.renderContainers)if(t.renderContainers.hasOwnProperty(a)){var l=t.renderContainers[a];if(null===l.canvasWidth||isNaN(l.canvasWidth))continue;l.header&&o.push(l)}return p(o.length>0?function(){var e,a,l=!1,s=0;for(e=0;e<o.length;e++)if(a=o[e],null!==a.canvasWidth&&!isNaN(a.canvasWidth)&&a.header){var d=a.headerHeight,c=n.outerElementHeight(a.header);a.headerHeight=parseInt(c,10),d!==c&&(l=!0);var u=n.getBorderSize(a.header,"top"),p=n.getBorderSize(a.header,"bottom"),g=parseInt(c-u-p,10);g=0>g?0:g,a.innerHeaderHeight=g,g>s&&(s=g)}for(e=0;e<o.length;e++)a=o[e],a.headerHeight<s&&(a.explicitHeaderHeight=s);i&&l&&t.buildStyles(),r.resolve()}:function(){r.resolve()}),r.promise},f.prototype.redrawInPlace=function(){var e=this;for(var i in e.renderContainers){var t=e.renderContainers[i];t.adjustRows(null,t.prevScrolltopPercentage),t.adjustColumns(null,t.prevScrollleftPercentage)}},f.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&this.renderContainers.left.renderedColumns.length>0},f.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&this.renderContainers.right.renderedColumns.length>0},g.prototype={put:function(e,i){this[this.grid.options.rowIdentity(e)]=i},get:function(e){return this[this.grid.options.rowIdentity(e)]},remove:function(e){var i=this[e=this.grid.options.rowIdentity(e)];return delete this[e],i}},f}])}(),function(){angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow","uiGridGridMenuService",function(e,i,t,n,r){function o(e,t,n,r){return i.$on(e,function(){var e=Array.prototype.slice.call(arguments);e.splice(0,1),t.apply(r?r:n.api,e)})}var a=function(e){this.grid=e,this.listeners=[],this.registerEvent("core","renderingComplete"),this.registerEvent("core","filterChanged"),this.registerMethod("core","setRowInvisible",r.prototype.setRowInvisible),this.registerMethod("core","clearRowInvisible",r.prototype.clearRowInvisible),this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows),this.registerEvent("core","rowsVisibleChanged"),this.registerEvent("core","rowsRendered"),this.registerEvent("core","scrollEvent"),this.registerEvent("core","canvasHeightChanged")};return a.prototype.suppressEvents=function(e,i){var t=this,n=angular.isArray(e)?e:[e],r=[];n.forEach(function(e){r=t.listeners.filter(function(i){return e===i.handler})}),r.forEach(function(e){e.dereg()}),i(),r.forEach(function(e){e.dereg=o(e.eventId,e.handler,t.grid,e._this)})},a.prototype.registerEvent=function(e,t){var n=this;n[e]||(n[e]={});var r=n[e];r.on||(r.on={},r.raise={});var a=n.grid.id+e+t;r.raise[t]=function(){i.$emit.apply(i,[a].concat(Array.prototype.slice.call(arguments)))},r.on[t]=function(e,i,t){var r=o(a,i,n.grid,t),l={handler:i,dereg:r,eventId:a,scope:e,_this:t};n.listeners.push(l);var s=function(){l.dereg();var e=n.listeners.indexOf(l);n.listeners.splice(e,1)};return e.$on("$destroy",function(){s()}),s}},a.prototype.registerEventsFromObject=function(e){var i=this,t=[];angular.forEach(e,function(e,i){var n={name:i,events:[]};angular.forEach(e,function(e,i){n.events.push(i)}),t.push(n)}),t.forEach(function(e){e.events.forEach(function(t){i.registerEvent(e.name,t)})})},a.prototype.registerMethod=function(e,i,n,r){this[e]||(this[e]={});var o=this[e];o[i]=t.createBoundedWrapper(r||this.grid,n)},a.prototype.registerMethodsFromObject=function(e,i){var t=this,n=[];angular.forEach(e,function(e,i){var t={name:i,methods:[]};angular.forEach(e,function(e,i){t.methods.push({name:i,fn:e})}),n.push(t)}),n.forEach(function(e){e.methods.forEach(function(n){t.registerMethod(e.name,n.name,n.fn,i)})})},a}])}(),function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(e,i,t){function n(e,i,t){var n=this;n.grid=t,n.uid=i,n.updateColumnDef(e,!0)}return n.prototype.setPropertyOrDefault=function(e,i,t){var n=this;n[i]="undefined"!=typeof e[i]&&e[i]?e[i]:"undefined"!=typeof n[i]?n[i]:t?t:{}},n.prototype.updateColumnDef=function(i,t){var r=this;if(r.colDef=i,void 0===i.name)throw new Error("colDef.name is required for column at index "+r.grid.options.columnDefs.indexOf(i));r.displayName=void 0===i.displayName?e.readableColumnName(i.name):i.displayName;var o="Cannot parse column width '"+i.width+"' for column named '"+i.name+"'";if(e.isNullOrUndefined(r.width)||!angular.isNumber(r.width))if(e.isNullOrUndefined(i.width))r.width="*";else if(angular.isNumber(i.width))r.width=i.width;else if(e.endsWith(i.width,"%")){var a=i.width.replace(/%/g,""),l=parseInt(a,10);if(isNaN(l))throw new Error(o);r.width=i.width}else if(i.width.match(/^(\d+)$/))r.width=parseInt(i.width.match(/^(\d+)$/)[1],10);else{if(!i.width.match(/^\*+$/))throw new Error(o);r.width=i.width}r.minWidth=i.minWidth?i.minWidth:30,r.maxWidth=i.maxWidth?i.maxWidth:9e3,r.field=void 0===i.field?i.name:i.field,"string"!=typeof r.field&&e.logError("Field is not a string, this is likely to break the code, Field is: "+r.field),r.name=i.name,r.displayName=void 0===i.displayName?e.readableColumnName(i.name):i.displayName,r.aggregationType=angular.isDefined(i.aggregationType)?i.aggregationType:null,r.footerCellTemplate=angular.isDefined(i.footerCellTemplate)?i.footerCellTemplate:null,r.footerCellClass=i.footerCellClass,r.cellClass=i.cellClass,r.headerCellClass=i.headerCellClass,r.cellFilter=i.cellFilter?i.cellFilter:"",r.headerCellFilter=i.headerCellFilter?i.headerCellFilter:"",r.footerCellFilter=i.footerCellFilter?i.footerCellFilter:"",r.visible=e.isNullOrUndefined(i.visible)||i.visible,r.headerClass=i.headerClass,r.enableSorting="undefined"!=typeof i.enableSorting?i.enableSorting:!0,r.sortingAlgorithm=i.sortingAlgorithm,r.enableFiltering="undefined"!=typeof i.enableFiltering?i.enableFiltering:!0,r.setPropertyOrDefault(i,"menuItems",[]),t&&r.setPropertyOrDefault(i,"sort");var s=[];i.filter?s.push(i.filter):r.enableFiltering&&r.grid.options.enableFiltering&&s.push({}),t&&(r.setPropertyOrDefault(i,"filter"),r.setPropertyOrDefault(i,"filters",s)),n.prototype.unsort=function(){this.sort={},r.grid.api.core.raise.sortChanged(r,r.grid.getColumnSorting())}},n.prototype.getColClass=function(e){var t=i.COL_CLASS_PREFIX+this.uid;return e?"."+t:t},n.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { width: "+this.drawnWidth+"px; }"},n.prototype.getRenderContainer=function(){var e=this,i=e.renderContainer;return(null===i||""===i||void 0===i)&&(i="body"),e.grid.renderContainers[i]},n.prototype.showColumn=function(){this.colDef.visible=!0},n.prototype.hideColumn=function(){this.colDef.visible=!1},n.prototype.getAggregationValue=function(){var e=this,t=0,n=e.grid.getVisibleRows(),r=function(){var i=[];return angular.forEach(n,function(t){var n=e.grid.getCellValue(t,e);angular.isNumber(n)&&i.push(n)}),i};return angular.isFunction(e.aggregationType)?e.aggregationType(n,e):e.aggregationType===i.aggregationTypes.count?e.grid.getVisibleRowCount():e.aggregationType===i.aggregationTypes.sum?(angular.forEach(r(),function(e){t+=e}),t):e.aggregationType===i.aggregationTypes.avg?(angular.forEach(r(),function(e){t+=e}),t/=r().length):e.aggregationType===i.aggregationTypes.min?Math.min.apply(null,r()):e.aggregationType===i.aggregationTypes.max?Math.max.apply(null,r()):" "},n.prototype.getAggregationText=function(){var e=this;if(e.colDef.aggregationHideLabel)return"";if(e.colDef.aggregationLabel)return e.colDef.aggregationLabel;switch(e.colDef.aggregationType){case i.aggregationTypes.count:return t.getSafeText("aggregation.count");case i.aggregationTypes.sum:return t.getSafeText("aggregation.sum");case i.aggregationTypes.avg:return t.getSafeText("aggregation.avg");case i.aggregationTypes.min:return t.getSafeText("aggregation.min");case i.aggregationTypes.max:return t.getSafeText("aggregation.max");default:return""}},n.prototype.getCellTemplate=function(){var e=this;return e.cellTemplatePromise},n.prototype.getCompiledElementFn=function(){var e=this;return e.compiledElementFnDefer.promise},n}])}(),function(){angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(e,i){return{initialize:function(t){return t.onRegisterApi=t.onRegisterApi||angular.noop(),t.data=t.data||[],t.columnDefs=t.columnDefs||[],t.excludeProperties=t.excludeProperties||["$$hashKey"],t.enableRowHashing=t.enableRowHashing!==!1,t.rowIdentity=t.rowIdentity||function(i){return e.hashKey(i)},t.getRowIdentity=t.getRowIdentity||function(e){return e.$$hashKey},t.showHeader="undefined"!=typeof t.showHeader?t.showHeader:!0,t.headerRowHeight=t.showHeader?"undefined"!=typeof t.headerRowHeight?t.headerRowHeight:30:0,t.rowHeight=t.rowHeight||30,t.minRowsToShow="undefined"!=typeof t.minRowsToShow?t.minRowsToShow:10,t.showGridFooter=t.showGridFooter===!0,t.showColumnFooter=t.showColumnFooter===!0,t.columnFooterHeight="undefined"!=typeof t.columnFooterHeight?t.columnFooterHeight:30,t.gridFooterHeight="undefined"!=typeof t.gridFooterHeight?t.gridFooterHeight:30,t.columnWidth="undefined"!=typeof t.columnWidth?t.columnWidth:50,t.maxVisibleColumnCount="undefined"!=typeof t.maxVisibleColumnCount?t.maxVisibleColumnCount:200,t.virtualizationThreshold="undefined"!=typeof t.virtualizationThreshold?t.virtualizationThreshold:20,t.columnVirtualizationThreshold="undefined"!=typeof t.columnVirtualizationThreshold?t.columnVirtualizationThreshold:10,t.excessRows="undefined"!=typeof t.excessRows?t.excessRows:4,t.scrollThreshold="undefined"!=typeof t.scrollThreshold?t.scrollThreshold:4,t.excessColumns="undefined"!=typeof t.excessColumns?t.excessColumns:4,t.horizontalScrollThreshold="undefined"!=typeof t.horizontalScrollThreshold?t.horizontalScrollThreshold:2,t.scrollThrottle="undefined"!=typeof t.scrollThrottle?t.scrollThrottle:70,t.enableSorting=t.enableSorting!==!1,t.enableFiltering=t.enableFiltering===!0,t.enableColumnMenus=t.enableColumnMenus!==!1,t.enableVerticalScrollbar="undefined"!=typeof t.enableVerticalScrollbar?t.enableVerticalScrollbar:i.scrollbars.ALWAYS,t.enableHorizontalScrollbar="undefined"!=typeof t.enableHorizontalScrollbar?t.enableHorizontalScrollbar:i.scrollbars.ALWAYS,t.minimumColumnSize="undefined"!=typeof t.minimumColumnSize?t.minimumColumnSize:10,t.rowEquality=t.rowEquality||function(e,i){return e===i},t.headerTemplate=t.headerTemplate||null,t.footerTemplate=t.footerTemplate||null,t.rowTemplate=t.rowTemplate||"ui-grid/ui-grid-row",t.appScopeProvider=t.appScopeProvider||null,t}}}])}(),function(){angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(e,i){function t(e,i,t){var n=this;n.name=e,n.grid=i,n.visibleRowCache=[],n.visibleColumnCache=[],n.renderedRows=[],n.renderedColumns=[],n.prevScrollTop=0,n.prevScrolltopPercentage=0,n.prevRowScrollIndex=0,n.prevScrollLeft=0,n.prevScrollleftPercentage=0,n.prevColumnScrollIndex=0,n.columnStyles="",n.viewportAdjusters=[],n.canvasHeightShouldUpdate=!0,n.$$canvasHeight=0,t&&angular.isObject(t)&&angular.extend(n,t),i.registerStyleComputation({priority:5,func:function(){return n.columnStyles}})}return t.prototype.reset=function(){this.visibleColumnCache.length=0,this.visibleRowCache.length=0,this.renderedRows.length=0,this.renderedColumns.length=0},t.prototype.minRowsToRender=function(){for(var e=this,i=0,t=0,n=e.getViewportHeight(),r=e.visibleRowCache.length-1;n>t&&r>=0;r--)t+=e.visibleRowCache[r].height,i++;return i},t.prototype.minColumnsToRender=function(){for(var e=this,i=this.getViewportWidth(),t=0,n=0,r=0;r<e.visibleColumnCache.length;r++){var o=e.visibleColumnCache[r];if(i>n)n+=o.drawnWidth?o.drawnWidth:0,t++;else{for(var a=0,l=r;l>=r-t;l--)a+=e.visibleColumnCache[l].drawnWidth?e.visibleColumnCache[l].drawnWidth:0;i>a&&t++}}return t},t.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},t.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},t.prototype.removeViewportAdjuster=function(e){var i=this.viewportAdjusters.indexOf(e);"undefined"!=typeof i&&void 0!==i&&this.viewportAdjusters.splice(i,1)},t.prototype.getViewportAdjustment=function(){var e=this,i={height:0,width:0};return e.viewportAdjusters.forEach(function(e){i=e.call(this,i)}),i},t.prototype.getViewportHeight=function(){var e=this,i=e.headerHeight?e.headerHeight:e.grid.headerHeight,t=e.grid.gridHeight-i-e.grid.footerHeight,n=e.getViewportAdjustment();return t+=n.height},t.prototype.getViewportWidth=function(){var e=this,i=e.grid.gridWidth,t=e.getViewportAdjustment();return i+=t.width},t.prototype.getHeaderViewportWidth=function(){var e=this.getViewportWidth();return e},t.prototype.getCanvasHeight=function(){var e=this;if(!e.canvasHeightShouldUpdate)return e.$$canvasHeight;var i=e.$$canvasHeight;return e.$$canvasHeight=0,e.visibleRowCache.forEach(function(i){e.$$canvasHeight+=i.height}),e.canvasHeightShouldUpdate=!1,e.grid.api.core.raise.canvasHeightChanged(i,e.$$canvasHeight),e.$$canvasHeight},t.prototype.getVerticalScrollLength=function(){return this.getCanvasHeight()-this.getViewportHeight()},t.prototype.getCanvasWidth=function(){var e=this,i=e.canvasWidth;return i},t.prototype.setRenderedRows=function(e){this.renderedRows.length=e.length;for(var i=0;i<e.length;i++)this.renderedRows[i]=e[i]},t.prototype.setRenderedColumns=function(e){this.renderedColumns.length=e.length;for(var i=0;i<e.length;i++)this.renderedColumns[i]=e[i];
this.updateColumnOffset()},t.prototype.updateColumnOffset=function(){for(var e=0,i=0;i<this.currentFirstColumn;i++)e+=this.visibleColumnCache[i].drawnWidth;this.columnOffset=e},t.prototype.adjustScrollVertical=function(e,i,t){(this.prevScrollTop!==e||t)&&(("undefined"==typeof e||void 0===e||null===e)&&(e=(this.getCanvasHeight()-this.getCanvasWidth())*i),this.adjustRows(e,i),this.prevScrollTop=e,this.prevScrolltopPercentage=i,this.grid.queueRefresh())},t.prototype.adjustScrollHorizontal=function(e,i,t){(this.prevScrollLeft!==e||t)&&(("undefined"==typeof e||void 0===e||null===e)&&(e=(this.getCanvasWidth()-this.getViewportWidth())*i),this.adjustColumns(e,i),this.prevScrollLeft=e,this.prevScrollleftPercentage=i,this.grid.queueRefresh())},t.prototype.adjustRows=function(e,i){var t=this,n=t.minRowsToRender(),r=t.visibleRowCache,o=r.length-n;"undefined"!=typeof i&&null!==i||!e||(i=e/t.getVerticalScrollLength());var a=Math.ceil(Math.min(o,o*i));a>o&&(a=o);var l=[];if(r.length>t.grid.options.virtualizationThreshold){if("undefined"!=typeof e&&null!==e){if(t.prevScrollTop<e&&a<t.prevRowScrollIndex+t.grid.options.scrollThreshold&&o>a)return;if(t.prevScrollTop>e&&a>t.prevRowScrollIndex-t.grid.options.scrollThreshold&&o>a)return}var s=Math.max(0,a-t.grid.options.excessRows),d=Math.min(r.length,a+n+t.grid.options.excessRows);l=[s,d]}else{var c=t.visibleRowCache.length;l=[0,Math.max(c,n+t.grid.options.excessRows)]}t.updateViewableRowRange(l),t.prevRowScrollIndex=a},t.prototype.adjustColumns=function(e,i){var t=this,n=t.minColumnsToRender(),r=t.visibleColumnCache,o=r.length-n;"undefined"!=typeof i&&null!==i||!e||(i=e/t.getCanvasWidth());var a=Math.ceil(Math.min(o,o*i));a>o&&(a=o);var l=[];if(r.length>t.grid.options.columnVirtualizationThreshold&&t.getCanvasWidth()>t.getViewportWidth()){var s=Math.max(0,a-t.grid.options.excessColumns),d=Math.min(r.length,a+n+t.grid.options.excessColumns);l=[s,d]}else{var c=t.visibleColumnCache.length;l=[0,Math.max(c,n+t.grid.options.excessColumns)]}t.updateViewableColumnRange(l),t.prevColumnScrollIndex=a},t.prototype.updateViewableRowRange=function(e){var i=this.visibleRowCache.slice(e[0],e[1]);this.currentTopRow=e[0],this.setRenderedRows(i)},t.prototype.updateViewableColumnRange=function(e){var i=this.visibleColumnCache.slice(e[0],e[1]);this.currentFirstColumn=e[0],this.setRenderedColumns(i)},t.prototype.rowStyle=function(e){var i=this,t={};if(0===e&&0!==i.currentTopRow){var n=i.currentTopRow*i.grid.options.rowHeight;t["margin-top"]=n+"px"}return 0!==i.currentFirstColumn&&(i.grid.isRTL()?t["margin-right"]=i.columnOffset+"px":t["margin-left"]=i.columnOffset+"px"),t},t.prototype.columnStyle=function(e){var i=this;if(0===e&&0!==i.currentFirstColumn){var t=i.columnOffset;return i.grid.isRTL()?{"margin-right":t+"px"}:{"margin-left":t+"px"}}return null},t.prototype.updateColumnWidths=function(){var i,t=this,n=[],r=[],o=0,a=t.getViewportWidth(),l=0,s=0,d="",c=t.visibleColumnCache;c.forEach(function(i){if(i.visible){var t=!1;angular.isNumber(i.width)||(t=isNaN(i.width)&&e.endsWith(i.width,"%")),angular.isString(i.width)&&-1!==i.width.indexOf("*")?(o=parseInt(o+i.width.length,10),n.push(i)):t?r.push(i):angular.isNumber(i.width)&&(l=parseInt(l+i.width,10),s=parseInt(s,10)+parseInt(i.width,10),i.drawnWidth=i.width)}});var u,p,g,f=a-l;if(r.length>0){for(u=0;u<r.length;u++){p=r[u];var h=parseInt(p.width.replace(/%/g,""),10)/100;g=parseInt(h*f,10),p.colDef.minWidth&&g<p.colDef.minWidth?(g=p.colDef.minWidth,f-=g,s+=g,p.drawnWidth=g,r.splice(u,1)):p.colDef.maxWidth&&g>p.colDef.maxWidth&&(g=p.colDef.maxWidth,f-=g,s+=g,p.drawnWidth=g,r.splice(u,1))}r.forEach(function(e){var i=parseInt(e.width.replace(/%/g,""),10)/100,t=parseInt(i*f,10);s+=t,e.drawnWidth=t})}if(n.length>0){var m=parseInt(f/o,10);for(u=0;u<n.length;u++)p=n[u],g=parseInt(m*p.width.length,10),p.colDef.minWidth&&g<p.colDef.minWidth?(g=p.colDef.minWidth,f-=g,o--,s+=g,p.drawnWidth=g,i=p,n.splice(u,1)):p.colDef.maxWidth&&g>p.colDef.maxWidth&&(g=p.colDef.maxWidth,f-=g,o--,s+=g,p.drawnWidth=g,n.splice(u,1));m=parseInt(f/o,10),n.forEach(function(e){var i=parseInt(m*e.width.length,10);s+=i,e.drawnWidth=i})}var v=a-parseInt(s,10);if(v>0&&s>0&&a>s){var C=!1;if(c.forEach(function(e){e.width&&!angular.isNumber(e.width)&&(C=!0)}),C)for(var w=function(e){v>0&&(e.drawnWidth=e.drawnWidth+1,s+=1,v--)};v>0;)c.forEach(w)}a>s&&(s=a),c.forEach(function(e){d+=e.getColClassDefinition()}),t.canvasWidth=parseInt(s,10),this.columnStyles=d},t.prototype.getViewPortStyle=function(){var e=this,t={};return"body"===e.name?(t["overflow-x"]=e.grid.options.enableHorizontalScrollbar===i.scrollbars.NEVER?"hidden":"scroll",t["overflow-y"]=e.grid.isRTL()?e.grid.hasLeftContainerColumns()?"hidden":e.grid.options.enableVerticalScrollbar===i.scrollbars.NEVER?"hidden":"scroll":e.grid.hasRightContainerColumns()?"hidden":e.grid.options.enableVerticalScrollbar===i.scrollbars.NEVER?"hidden":"scroll"):"left"===e.name?(t["overflow-x"]="hidden",t["overflow-y"]=e.grid.isRTL()?e.grid.options.enableVerticalScrollbar===i.scrollbars.NEVER?"hidden":"scroll":"hidden"):(t["overflow-x"]="hidden",t["overflow-y"]=e.grid.isRTL()?"hidden":e.grid.options.enableVerticalScrollbar===i.scrollbars.NEVER?"hidden":"scroll"),t},t}])}(),function(){angular.module("ui.grid").factory("GridRow",["gridUtil",function(e){function i(i,t,n){this.grid=n,this.entity=i,this.uid=e.nextUid(),this.visible=!0,this.$$height=n.options.rowHeight}return Object.defineProperty(i.prototype,"height",{get:function(){return this.$$height},set:function(e){e!==this.$$height&&(this.grid.updateCanvasHeight(),this.$$height=e)}}),i.prototype.getQualifiedColField=function(e){return"row."+this.getEntityQualifiedColField(e)},i.prototype.getEntityQualifiedColField=function(i){return e.preEval("entity."+i.field)},i.prototype.setRowInvisible=function(e){null!==e&&(e.forceInvisible=!0,e.visible&&(e.visible=!1,e.grid.refresh(),e.grid.api.core.raise.rowsVisibleChanged()))},i.prototype.clearRowInvisible=function(e){null!==e&&(e.forceInvisible=!1,e.visible||(e.visible=!0,e.grid.refresh(),e.grid.api.core.raise.rowsVisibleChanged()))},i}])}(),function(){angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(e){function i(i,t,n,r){var o=this;if(!i)throw new Error("grid argument is required");o.grid=i,o.source=r,o.sourceRowContainer=t,o.sourceColContainer=n,o.newScrollLeft=null,o.newScrollTop=null,o.x=null,o.y=null,o.fireThrottledScrollingEvent=e.throttle(function(){o.grid.api.core.raise.scrollEvent(o)},o.grid.options.scrollThrottle,{trailing:!0})}return i.prototype.fireScrollingEvent=function(){this.grid.api.core.raise.scrollEvent(this)},i.prototype.getNewScrollLeft=function(i,t){var n=this;if(!n.newScrollLeft){var r,o=i.getCanvasWidth()-i.getViewportWidth(),a=e.normalizeScrollLeft(t);if("undefined"!=typeof n.x.percentage&&void 0!==n.x.percentage)r=n.x.percentage;else{if("undefined"==typeof n.x.pixels||void 0===n.x.pixels)throw new Error("No percentage or pixel value provided for scroll event X axis");r=n.x.percentage=(a+n.x.pixels)/o}return Math.max(0,r*o)}return n.newScrollLeft},i.prototype.getNewScrollTop=function(e,i){var t=this;if(!t.newScrollTop){var n,r=e.getVerticalScrollLength(),o=i[0].scrollTop;if("undefined"!=typeof t.y.percentage&&void 0!==t.y.percentage)n=t.y.percentage;else{if("undefined"==typeof t.y.pixels||void 0===t.y.pixels)throw new Error("No percentage or pixel value provided for scroll event Y axis");n=t.y.percentage=(o+t.y.pixels)/r}return Math.max(0,n*r)}return t.newScrollTop},i.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99},i}])}(),function(){angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(e,i,t,n,r,o){var a={createGrid:function(n){n="undefined"!=typeof n?n:{},n.id=e.newId();var r=new o(n);if(r.options.rowTemplate){var l=i.defer();r.getRowTemplateFn=l.promise,e.getTemplate(r.options.rowTemplate).then(function(e){var i=t(e);l.resolve(i)},function(){throw new Error("Couldn't fetch/use row template '"+r.options.rowTemplate+"'")})}return r.registerColumnBuilder(a.defaultColumnBuilder),r.registerRowBuilder(a.rowTemplateAssigner),r.registerRowsProcessor(function(e){return e.forEach(function(e){e.visible=!e.forceInvisible}),e}),r.registerColumnsProcessor(function(e){return e.forEach(function(e){e.visible=!0}),e}),r.registerColumnsProcessor(function(e){return e.forEach(function(e){e.colDef.visible===!1&&(e.visible=!1)}),e}),r.options.enableFiltering&&r.registerRowsProcessor(r.searchRows),r.registerRowsProcessor(r.options.externalSort&&angular.isFunction(r.options.externalSort)?r.options.externalSort:r.sortByColumn),r},defaultColumnBuilder:function(t,n){var o=[];return n.providedHeaderCellTemplate=t.headerCellTemplate?t.headerCellTemplate:"ui-grid/uiGridHeaderCell",n.providedCellTemplate=t.cellTemplate?t.cellTemplate:"ui-grid/uiGridCell",n.providedFooterCellTemplate=t.footerCellTemplate?t.footerCellTemplate:"ui-grid/uiGridFooterCell",n.cellTemplatePromise=e.getTemplate(n.providedCellTemplate),o.push(n.cellTemplatePromise.then(function(e){n.cellTemplate=e.replace(r.CUSTOM_FILTERS,n.cellFilter?"|"+n.cellFilter:"")},function(){throw new Error("Couldn't fetch/use colDef.cellTemplate '"+t.cellTemplate+"'")})),o.push(e.getTemplate(n.providedHeaderCellTemplate).then(function(e){n.headerCellTemplate=e.replace(r.CUSTOM_FILTERS,n.headerCellFilter?"|"+n.headerCellFilter:"")},function(){throw new Error("Couldn't fetch/use colDef.headerCellTemplate '"+t.headerCellTemplate+"'")})),o.push(e.getTemplate(n.providedFooterCellTemplate).then(function(e){n.footerCellTemplate=e.replace(r.CUSTOM_FILTERS,n.footerCellFilter?"|"+n.footerCellFilter:"")},function(){throw new Error("Couldn't fetch/use colDef.footerCellTemplate '"+t.footerCellTemplate+"'")})),n.compiledElementFnDefer=i.defer(),i.all(o)},rowTemplateAssigner:function(n){var r=this;if(n.rowTemplate){var o=i.defer();n.getRowTemplateFn=o.promise,e.getTemplate(n.rowTemplate).then(function(e){var i=t(e);o.resolve(i)},function(){throw new Error("Couldn't fetch/use row template '"+n.rowTemplate+"'")})}else n.rowTemplate=r.options.rowTemplate,n.getRowTemplateFn=r.getRowTemplateFn;return n.getRowTemplateFn}};return a}])}(),function(){function e(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var i=angular.module("ui.grid");i.service("rowSearcher",["gridUtil","uiGridConstants",function(i,t){var n=t.filter.STARTS_WITH,r={};return r.getTerm=function(e){if("undefined"==typeof e.term)return e.term;var i=e.term;return"string"==typeof i&&(i=i.trim()),i},r.stripTerm=function(i){var t=r.getTerm(i);return"string"==typeof t?e(t.replace(/(^\*|\*$)/g,"")):t},r.guessCondition=function(e){if("undefined"==typeof e.term||!e.term)return n;var i=r.getTerm(e);if(/\*/.test(i)){var t="";e.flags&&e.flags.caseSensitive||(t+="i");var o=i.replace(/(\\)?\*/g,function(e,i){return i?e:"[\\s\\S]*?"});return new RegExp("^"+o+"$",t)}return n},r.setupFilters=function(e){for(var i=[],n=e.length,o=0;n>o;o++){var a=e[o];if(a.noTerm||a.term){var l={},s="";a.flags&&a.flags.caseSensitive||(s+="i"),a.term&&(l.term=r.stripTerm(a)),l.condition=a.condition?a.condition:r.guessCondition(a),l.flags=angular.extend({caseSensitive:!1},a.flags),l.condition===t.filter.STARTS_WITH&&(l.startswithRE=new RegExp("^"+l.term,s)),l.condition===t.filter.ENDS_WITH&&(l.endswithRE=new RegExp(l.term+"$",s)),l.condition===t.filter.CONTAINS&&(l.containsRE=new RegExp(l.term,s)),l.condition===t.filter.EXACT&&(l.exactRE=new RegExp("^"+l.term+"$",s)),i.push(l)}}return i},r.runColumnFilter=function(e,i,n,r){var o=typeof r.condition,a=r.term,l=e.getCellValue(i,n);if(r.condition instanceof RegExp)return r.condition.test(l);if("function"===o)return r.condition(a,l,i,n);if(r.startswithRE)return r.startswithRE.test(l);if(r.endswithRE)return r.endswithRE.test(l);if(r.containsRE)return r.containsRE.test(l);if(r.exactRE)return r.exactRE.test(l);if(r.condition===t.filter.NOT_EQUAL){var s=new RegExp("^"+a+"$");return!s.exec(l)}if("number"==typeof l){var d=parseFloat(a.replace(/\\./,"."));isNaN(d)||(a=d)}return r.condition===t.filter.GREATER_THAN?l>a:r.condition===t.filter.GREATER_THAN_OR_EQUAL?l>=a:r.condition===t.filter.LESS_THAN?a>l:r.condition===t.filter.LESS_THAN_OR_EQUAL?a>=l:!0},r.searchColumn=function(e,i,t,n){if(e.options.useExternalFiltering)return!0;for(var o=n.length,a=0;o>a;a++){var l=n[a],s=r.runColumnFilter(e,i,t,l);if(!s)return!1}return!0},r.search=function(e,i,t){if(i){for(var n=[],o=t.length,a=0;o>a;a++){var l=t[a];"undefined"!=typeof l.filters&&(l.filters.length>1||1===l.filters.length&&l.filters[0].term)?n.push({col:l,filters:r.setupFilters(l.filters)}):"undefined"!=typeof l.filter&&l.filter&&("undefined"!=typeof l.filter.term&&l.filter.term||l.filter.noTerm)&&n.push({col:l,filters:r.setupFilters([l.filter])})}if(n.length>0){for(var s=function(e,i,t,n){(i.forceInvisible||!r.searchColumn(e,i,t,n))&&(i.visible=!1)},d=function(e,t){for(var n=i.length,r=0;n>r;r++)s(e,i[r],t.col,t.filters)},c=n.length,u=0;c>u;u++)d(e,n[u]);e.api.core.raise.rowsVisibleChanged&&e.api.core.raise.rowsVisibleChanged()}return i}},r}])}(),function(){var e=angular.module("ui.grid");e.service("rowSorter",["$parse","uiGridConstants",function(e,i){var t="("+i.CURRENCY_SYMBOLS.map(function(e){return"\\"+e}).join("|")+")?",n=(new RegExp("^[-+]?"+t+"[\\d,.]+"+t+"%?$"),{colSortFnCache:[]});return n.guessSortFn=function(e){switch(e){case"number":return n.sortNumber;case"boolean":return n.sortBool;case"string":return n.sortAlpha;case"date":return n.sortDate;case"object":return n.basicSort;default:throw new Error("No sorting function found for type:"+e)}},n.handleNulls=function(e,i){if(!e&&0!==e&&e!==!1||!i&&0!==i&&i!==!1){if(!e&&0!==e&&e!==!1&&!i&&0!==i&&i!==!1)return 0;if(!e&&0!==e&&e!==!1)return 1;if(!i&&0!==i&&i!==!1)return-1}return null},n.basicSort=function(e,i){var t=n.handleNulls(e,i);return null!==t?t:e===i?0:i>e?-1:1},n.sortNumber=function(e,i){var t=n.handleNulls(e,i);return null!==t?t:e-i},n.sortNumberStr=function(e,i){var t=n.handleNulls(e,i);if(null!==t)return t;var r,o,a=!1,l=!1;return r=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(r)&&(a=!0),o=parseFloat(i.replace(/[^0-9.-]/g,"")),isNaN(o)&&(l=!0),a&&l?0:a?1:l?-1:r-o},n.sortAlpha=function(e,i){var t=n.handleNulls(e,i);if(null!==t)return t;var r=e.toString().toLowerCase(),o=i.toString().toLowerCase();return r===o?0:o>r?-1:1},n.sortDate=function(e,i){var t=n.handleNulls(e,i);if(null!==t)return t;var r=e.getTime(),o=i.getTime();return r===o?0:o>r?-1:1},n.sortBool=function(e,i){var t=n.handleNulls(e,i);return null!==t?t:e&&i?0:e||i?e?1:-1:0},n.getSortFn=function(e,i){var t;return n.colSortFnCache[i.colDef.name]?t=n.colSortFnCache[i.colDef.name]:void 0!==i.sortingAlgorithm?(t=i.sortingAlgorithm,n.colSortFnCache[i.colDef.name]=i.sortingAlgorithm):(t=n.guessSortFn(i.colDef.type),t?n.colSortFnCache[i.colDef.name]=t:t=n.sortAlpha),t},n.prioritySort=function(e,i){return void 0!==e.sort.priority&&void 0!==i.sort.priority?e.sort.priority<i.sort.priority?-1:e.sort.priority===i.sort.priority?0:1:e.sort.priority||0===e.sort.priority?-1:i.sort.priority||0===i.sort.priority?1:0},n.sort=function(e,t,r){if(t){if(e.options.useExternalSorting)return t;var o=[];if(r.forEach(function(e){e.sort&&e.sort.direction&&(e.sort.direction===i.ASC||e.sort.direction===i.DESC)&&o.push(e)}),o=o.sort(n.prioritySort),0===o.length)return t;var a,l,s=t.slice(0);angular.forEach(t,function(e,i){e.entity.$uiGridIndex=i});var d=t.sort(function(t,r){for(var d,c=0,u=0;0===c&&u<o.length;){a=o[u],l=o[u].sort.direction,d=n.getSortFn(e,a,s);var p=e.getCellValue(t,a),g=e.getCellValue(r,a);c=d(p,g),u++}return 0===c?t.entity.$uiGridIndex-r.entity.$uiGridIndex:l===i.ASC?c:0-c});return angular.forEach(d,function(e){delete e.entity.$uiGridIndex}),d}},n}])}(),function(){function e(e){var i=e;return"undefined"!=typeof i.length&&i.length&&(i=e[0]),i.ownerDocument.defaultView.getComputedStyle(i,null)}function i(e,i,t,n,r){for(var o=t===(n?"border":"content")?4:"width"===i?1:0,a=0,l=["Top","Right","Bottom","Left"];4>o;o+=2){var s=l[o];if("margin"===t){var d=parseFloat(r[t+s]);isNaN(d)||(a+=d)}if(n){if("content"===t){var c=parseFloat(r["padding"+s]);isNaN(c)||(a-=c)}if("margin"!==t){var u=parseFloat(r["border"+s+"Width"]);isNaN(u)||(a-=u)}}else{var p=parseFloat(r["padding"+s]);if(isNaN(p)||(a+=p),"padding"!==t){var g=parseFloat(r["border"+s+"Width"]);isNaN(g)||(a+=g)}}}return a}function t(t,n,o){var a,l=!0,s=e(t),d="border-box"===s.boxSizing;if(0>=a||null==a){if(a=s[n],(0>a||null==a)&&(a=t.style[n]),r.test(a))return a;l=d&&!0,a=parseFloat(a)||0}var c=a+i(t,n,o||(d?"border":"content"),l,s);return c}var n=angular.module("ui.grid"),r=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),o=/^(block|none|table(?!-c[ea]).+)/,a={position:"absolute",visibility:"hidden",display:"block"},l=["0","0","0"],s="uiGrid-";n.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$injector","$q","$interpolate","uiGridConstants",function(i,n,r,d,c,u,p,g,f,h){var m={getStyles:e,createBoundedWrapper:function(e,i){return function(){return i.apply(e,arguments)}},readableColumnName:function(e){return"undefined"==typeof e||void 0===e||null===e?e:("string"!=typeof e&&(e=String(e)),e.replace(/_+/g," ").replace(/^[A-Z]+$/,function(e){return angular.lowercase(angular.uppercase(e.charAt(0))+e.slice(1))}).replace(/(\w+)/g,function(e){return angular.uppercase(e.charAt(0))+e.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(e,i){var t=[];if(!e||"undefined"==typeof e[0]||void 0===e[0])return[];angular.isUndefined(i)&&(i=[]);var n=e[0];return angular.forEach(n,function(e,n){-1===i.indexOf(n)&&t.push({name:n})}),t},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),getTemplate:function(e){if(c.get(e))return m.postProcessTemplate(c.get(e));if(e.hasOwnProperty("then"))return e.then(m.postProcessTemplate);try{if(angular.element(e).length>0)return g.when(e).then(m.postProcessTemplate)}catch(i){}return m.logDebug("fetching url",e),d({method:"GET",url:e}).then(function(i){var t=i.data.trim();return c.put(e,t),t},function(i){throw new Error("Could not get template "+e+": "+i)}).then(m.postProcessTemplate)},postProcessTemplate:function(e){var i=f.startSymbol(),t=f.endSymbol();return("{{"!==i||"}}"!==t)&&(e=e.replace(/\{\{/g,i),e=e.replace(/\}\}/g,t)),g.when(e)},guessType:function(e){var i=typeof e;switch(i){case"number":case"boolean":case"string":return i;default:return angular.isDate(e)?"date":"object"}},elementWidth:function(){},elementHeight:function(){},getScrollbarWidth:function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var i=e.offsetWidth;e.style.overflow="scroll";var t=document.createElement("div");t.style.width="100%",e.appendChild(t);var n=t.offsetWidth;return e.parentNode.removeChild(e),i-n},swap:function(e,i,t,n){var r,o,a={};for(o in i)a[o]=e.style[o],e.style[o]=i[o];r=t.apply(e,n||[]);for(o in i)e.style[o]=a[o];return r},fakeElement:function(e,i,t){var n,r,o=angular.element(e).clone()[0];for(r in i)o.style[r]=i[r];return angular.element(document.body).append(o),n=t.call(o,o),angular.element(o).remove(),n},normalizeWheelEvent:function(e){var i,t,n,r=e||window.event,o=([].slice.call(arguments,1),0),a=0,l=0,s=0,d=0;return r.originalEvent&&(r=r.originalEvent),r.wheelDelta&&(o=r.wheelDelta),r.detail&&(o=-1*r.detail),l=o,void 0!==r.axis&&r.axis===r.HORIZONTAL_AXIS&&(l=0,a=-1*o),r.deltaY&&(l=-1*r.deltaY,o=l),r.deltaX&&(a=r.deltaX,o=-1*a),void 0!==r.wheelDeltaY&&(l=r.wheelDeltaY),void 0!==r.wheelDeltaX&&(a=r.wheelDeltaX),s=Math.abs(o),(!i||i>s)&&(i=s),d=Math.max(Math.abs(l),Math.abs(a)),(!t||t>d)&&(t=d),n=o>0?"floor":"ceil",o=Math[n](o/i),a=Math[n](a/t),l=Math[n](l/t),{delta:o,deltaX:a,deltaY:l}},isTouchEnabled:function(){var e;return("ontouchstart"in n||n.DocumentTouch&&r instanceof DocumentTouch)&&(e=!0),e},isNullOrUndefined:function(e){return void 0===e||null===e?!0:!1},endsWith:function(e,i){return e&&i&&"string"==typeof e?-1!==e.indexOf(i,e.length-i.length):!1},arrayContainsObjectWithProperty:function(e,i,t){var n=!1;return angular.forEach(e,function(e){e[i]===t&&(n=!0)}),n},requestAnimationFrame:n.requestAnimationFrame&&n.requestAnimationFrame.bind(n)||n.webkitRequestAnimationFrame&&n.webkitRequestAnimationFrame.bind(n)||function(e){return u(e,10,!1)},numericAndNullSort:function(e,i){return null===e?1:null===i?-1:null===e&&null===i?0:e-i},disableAnimations:function(e){var i;try{i=p.get("$animate"),i.enabled(!1,e)}catch(t){}},enableAnimations:function(e){var i;try{return i=p.get("$animate"),i.enabled(!0,e),i}catch(t){}},nextUid:function(){for(var e,i=l.length;i;){if(i--,e=l[i].charCodeAt(0),57===e)return l[i]="A",s+l.join("");if(90!==e)return l[i]=String.fromCharCode(e+1),s+l.join("");l[i]="0"}return l.unshift("0"),s+l.join("")},hashKey:function(e){var i,t=typeof e;return"object"===t&&null!==e?"function"==typeof(i=e.$$hashKey)?i=e.$$hashKey():"undefined"!=typeof e.$$hashKey&&e.$$hashKey?i=e.$$hashKey:void 0===i&&(i=e.$$hashKey=m.nextUid()):i=e,t+":"+i},resetUids:function(){l=["0","0","0"]},logError:function(e){h.LOG_ERROR_MESSAGES&&i.error(e)},logWarn:function(e){h.LOG_WARN_MESSAGES&&i.warn(e)},logDebug:function(){h.LOG_DEBUG_MESSAGES&&i.debug.apply(i,arguments)}};return["width","height"].forEach(function(i){var n=angular.uppercase(i.charAt(0))+i.substr(1);m["element"+n]=function(n,r){var l=n;if(l&&"undefined"!=typeof l.length&&l.length&&(l=n[0]),l){var s=e(l);return 0===l.offsetWidth&&o.test(s.display)?m.fakeElement(l,a,function(e){return t(e,i,r)}):t(l,i,r)}return null},m["outerElement"+n]=function(e,i){return e?m["element"+n].call(this,e,i?"margin":"border"):null}}),m.closestElm=function(e,i){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var t;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]?(t=e,!0):!1});for(var n;null!==e;){if(n=e.parentElement,null!==n&&n[t](i))return n;e=n}return null},m.type=function(e){var i=Function.prototype.toString.call(e.constructor);return i.match(/function (.*?)\(/)[1]},m.getBorderSize=function(i,t){"undefined"!=typeof i.length&&i.length&&(i=i[0]);var n=e(i);t=t?"border"+t.charAt(0).toUpperCase()+t.slice(1):"border",t+="Width";var r=parseInt(n[t],10);return isNaN(r)?0:r},m.detectBrowser=function(){var e=n.navigator.userAgent,i={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var t in i)if(i[t].test(e))return t;return"unknown"},m.normalizeScrollLeft=function(e){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var i=m.detectBrowser(),t=e.scrollLeft,n=m.getStyles(e).direction;if("ie"===i)return t;if("chrome"===i){if("rtl"===n){var r=e.scrollWidth-e.clientWidth;return r-t}return t}return"firefox"===i?Math.abs(t):t},m.denormalizeScrollLeft=function(e,i){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var t=m.detectBrowser(),n=m.getStyles(e).direction;if("ie"===t)return i;if("chrome"===t){if("rtl"===n){var r=e.scrollWidth-e.clientWidth;return r-i}return i}return"firefox"===t&&"rtl"===n?-1*i:i},m.preEval=function(e){var i=h.BRACKET_REGEXP.exec(e);if(i)return(i[1]?m.preEval(i[1]):i[1])+i[2]+(i[3]?m.preEval(i[3]):i[3]);e=e.replace(h.APOS_REGEXP,"\\'");var t=e.split(h.DOT_REGEXP),n=[t.shift()];return angular.forEach(t,function(e){n.push(e.replace(h.FUNC_REGEXP,"']$1"))}),n.join("['")},m.debounce=function(e,i,t){function n(){a=this,o=arguments;var n=function(){r=null,t||(l=e.apply(a,o))},s=t&&!r;return r&&u.cancel(r),r=u(n,i),s&&(l=e.apply(a,o)),l}var r,o,a,l;return n.cancel=function(){u.cancel(r),r=null},n},m.throttle=function(e,i,t){function n(){a=+new Date,e.apply(r,o),u(function(){l=null},0)}t=t||{};var r,o,a=0,l=null;return function(){if(r=this,o=arguments,null===l){var e=+new Date-a;e>i?n():t.trailing&&(l=u(n,i-e))}}},m}]),n.filter("px",function(){return function(e){return e.match(/^[\d\.]+$/)?e+"px":e}})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil."},search:{placeholder:"Søg...",showingItems:"Viste rækker:",selectedItems:"Valgte rækker:",totalItems:"Rækker totalt:",size:"Side størrelse:",first:"Første side",next:"Næste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vælg kolonner:"},column:{hide:"Skjul kolonne"},aggregation:{count:"samlede rækker: ",sum:"smalede: ",avg:"gns: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("de",{aggregate:{label:"eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenüberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{placeholder:"Suche...",showingItems:"Zeige Einträge:",selectedItems:"Ausgewählte Einträge:",totalItems:"Einträge gesamt:",size:"Einträge pro Seite:",first:"Erste Seite",next:"Nächste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswählen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",remove:"Sortierung zurücksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},gridMenu:{columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"markierte Daten als CSV exportieren"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei außer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine gültige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enthält sie gültiges JSON?",jsonNotArray:"Die importierte JSON-Datei muß ein Array enthalten. Breche Import ab."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("en",{aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{sizes:"items per page",totalItems:"items"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("es",{aggregate:{label:"Artículos"},groupPanel:{description:"Arrastre un encabezado de columna aquí y suéltelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artículos Mostrados:",selectedItems:"Artículos Seleccionados:",totalItems:"Artículos Totales:",size:"Tamaño de Página:",first:"Primera Página",next:"Página Siguiente",previous:"Página Anterior",last:"Última Página"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijación"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar selección como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar selección como pdf"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, ¿tiene encabezados el archivo?",noObjects:"No fue posible obtener registros, ¿contiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, ¿es un CSV válido?",invalidJson:"No fue posible procesar el archivo, ¿es un Json válido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fa",{aggregate:{label:"موردها"},groupPanel:{description:"یک عنوان ستون اینجا را بردار و به گروهی از آن ستون بیانداز."},search:{placeholder:"جستجو...",showingItems:"نمایش موردها:",selectedItems:"موردهای انتخاب‌شده:",totalItems:"همهٔ موردها:",size:"اندازهٔ صفحه:",first:"صفحهٔ اول",next:"صفحهٔ بعد",previous:"صفحهٔ قبل",last:"آخرین صفحه"},menu:{text:"انتخاب ستون‌ها:"},column:{hide:"ستون پنهان کن"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko tähän ryhmittääksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"Näytetään rivejä:",selectedItems:"Valitut rivit:",totalItems:"Rivejä yht.:",size:"Näytä:",first:"Ensimmäinen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"Järjestä nouseva",descending:"Järjestä laskeva",remove:"Poista järjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivejä yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie näkyvä tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie näkyvä tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa"},importer:{noHeaders:"Sarakkeen nimiä ei voitu päätellä, onko tiedostossa otsikkoriviä?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu käsitellä, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu käsitellä, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sisältänyt taulukkoa, lopetetaan."}}),e
}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fr",{aggregate:{label:"articles"},groupPanel:{description:"Faites glisser un en-tête de colonne ici et déposez-le vers un groupe par cette colonne."},search:{placeholder:"Recherche...",showingItems:"Articles Affichage des:",selectedItems:"Éléments Articles:",totalItems:"Nombre total d'articles:",size:"Taille de page:",first:"Première page",next:"Page Suivante",previous:"Page précédente",last:"Dernière page"},menu:{text:"Choisir des colonnes:"},sort:{ascending:"Trier par ordre croissant",descending:"Trier par ordre décroissant",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"total lignes: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Épingler à gauche",pinRight:"Épingler à droite",unpin:"Détacher"},gridMenu:{columns:"Colonnes:",importerTitle:"Importer un fichier",exporterAllAsCsv:"Exporter toutes les données en CSV",exporterVisibleAsCsv:"Exporter les données visibles en CSV",exporterSelectedAsCsv:"Exporter les données sélectionnées en CSV",exporterAllAsPdf:"Exporter toutes les données en PDF",exporterVisibleAsPdf:"Exporter les données visibles en PDF",exporterSelectedAsPdf:"Exporter les données sélectionnées en PDF"},importer:{noHeaders:"Impossible de déterminer le nom des colonnes, le fichier possède-t-il un en-tête ?",noObjects:"Aucun objet trouvé, le fichier possède-t-il des données autres que l'en-tête ?",invalidCsv:"Le fichier n'a pas pu être traité, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu être traité, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON importé doit contenir un tableau. Abandon."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("he",{aggregate:{label:"items"},groupPanel:{description:"גרור עמודה לכאן ושחרר בכדי לקבץ עמודה זו."},search:{placeholder:"חפש...",showingItems:"מציג:",selectedItems:'סה"כ נבחרו:',totalItems:'סה"כ רשומות:',size:"תוצאות בדף:",first:"דף ראשון",next:"דף הבא",previous:"דף קודם",last:"דף אחרון"},menu:{text:"בחר עמודות:"},sort:{ascending:"סדר עולה",descending:"סדר יורד",remove:"בטל"},column:{hide:"טור הסתר"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt-br",{aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},gridMenu:{columns:"Colunas:",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O arquivo tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no arquivo, além dos cabeçalhos?",invalidCsv:"Arquivo não pode ser processado. É um CSV válido?",invalidJson:"Arquivo não pode ser processado. É um Json válido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ru",{aggregate:{label:"элементы"},groupPanel:{description:"Для группировки по столбцу перетащите сюда его название."},search:{placeholder:"Поиск...",showingItems:"Показать элементы:",selectedItems:"Выбранные элементы:",totalItems:"Всего элементов:",size:"Размер страницы:",first:"Первая страница",next:"Следующая страница",previous:"Предыдущая страница",last:"Последняя страница"},menu:{text:"Выбрать столбцы:"},sort:{ascending:"По возрастанию",descending:"По убыванию",remove:"Убрать сортировку"},column:{hide:"спрятать столбец"},aggregation:{count:"всего строк: ",sum:"итого: ",avg:"среднее: ",min:"мин: ",max:"макс: "},gridMenu:{columns:"Столбцы:",importerTitle:"Import file",exporterAllAsCsv:"Экспортировать всё в CSV",exporterVisibleAsCsv:"Экспортировать видимые данные в CSV",exporterSelectedAsCsv:"Экспортировать выбранные данные в CSV",exporterAllAsPdf:"Экспортировать всё в PDF",exporterVisibleAsPdf:"Экспортировать видимые данные в PDF",exporterSelectedAsPdf:"Экспортировать выбранные данные в PDF"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem názov stĺpca pre zoskupenie podľa toho stĺpca."},search:{placeholder:"Hľadaj...",showingItems:"Zobrazujem položky:",selectedItems:"Vybraté položky:",totalItems:"Počet položiek:",size:"Počet:",first:"Prvá strana",next:"Ďalšia strana",previous:"Predchádzajúca strana",last:"Posledná strana"},menu:{text:"Vyberte stĺpce:"},sort:{ascending:"Zotriediť vzostupne",descending:"Zotriediť zostupne",remove:"Vymazať triedenie"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sv",{aggregate:{label:"Artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och släpp den för att gruppera efter den kolumnen."},search:{placeholder:"Sök...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Första sidan",next:"Nästa sida",previous:"Föregående sida",last:"Sista sidan"},menu:{text:"Välj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Göm kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Fäst vänster",pinRight:"Fäst höger",unpin:"Lösgör"},gridMenu:{columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF"},importer:{noHeaders:"Kolumnnamn kunde inte härledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte härledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, är den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, är den en giltig JSON?",jsonNotArray:"Importerad JSON-fil måste innehålla ett fält. Import avbruten."},pagination:{sizes:"Artiklar per sida",totalItems:"Artiklar"}}),e}])}])}(),function(){var e=["uiT","uiTranslate"],i=["t","uiTranslate"],t=angular.module("ui.grid.i18n");t.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"}),t.service("i18nService",["$log","i18nConstants","$rootScope",function(e,i,t){var n={_langs:{},current:null,get:function(e){return this._langs[e.toLowerCase()]},add:function(e,i){var t=e.toLowerCase();this._langs[t]||(this._langs[t]={}),angular.extend(this._langs[t],i)},getAllLangs:function(){var e=[];if(!this._langs)return e;for(var i in this._langs)e.push(i);return e},setCurrent:function(e){this.current=e.toLowerCase()},getCurrentLang:function(){return this.current}},r={add:function(e,i){"object"==typeof e?angular.forEach(e,function(e){e&&n.add(e,i)}):n.add(e,i)},getAllLangs:function(){return n.getAllLangs()},get:function(e){var i=e?e:r.getCurrentLang();return n.get(i)},getSafeText:function(e,t){var o=t?t:r.getCurrentLang(),a=n.get(o);if(!a)return i.MISSING;for(var l=e.split("."),s=a,d=0;d<l.length;++d){if(void 0===s[l[d]]||null===s[l[d]])return i.MISSING;s=s[l[d]]}return s},setCurrentLang:function(e){e&&(n.setCurrent(e),t.$broadcast(i.UPDATE_EVENT))},getCurrentLang:function(){var e=n.getCurrentLang();return e||(e=i.DEFAULT_LANG,n.setCurrent(e)),e}};return r}]);var n=function(e,i){return{compile:function(){return{pre:function(t,n,r){var o=i.LOCALE_DIRECTIVE_ALIAS,a=t.$eval(r[o]);a?t.$watch(r[o],function(){e.setCurrentLang(a)}):r.$$observers&&r.$observe(o,function(){e.setCurrentLang(r[o]||i.DEFAULT_LANG)})}}}}};t.directive("uiI18n",["i18nService","i18nConstants",n]);var r=function(i,t,n){return{restrict:"EA",compile:function(){return{pre:function(r,o,a){var l,s=e[0],d=e[1],c=a[s]||a[d]||o.html(),u=n.MISSING+c;if(a.$$observers){var p=a[s]?s:d;l=a.$observe(p,function(e){e&&o.html(i(e)(t.getCurrentLang())||u)})}var g=i(c),f=r.$on(n.UPDATE_EVENT,function(){l?l(a[s]||a[d]):o.html(g(t.get())||u)});r.$on("$destroy",f),o.html(g(t.get())||u)}}}}};angular.forEach(e,function(e){t.directive(e,["$parse","i18nService","i18nConstants",r])});var o=function(e,i,t){return function(n){var r=e(n);return r(i.get())||t.MISSING+n}};angular.forEach(i,function(e){t.filter(e,["$parse","i18nService","i18nConstants",o])})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-cn",{aggregate:{label:"行"},groupPanel:{description:"拖曳表头到此处进行分组"},search:{placeholder:"查找",showingItems:"已显示行数：",selectedItems:"已选择行数：",totalItems:"总行数：",size:"每页显示行数：",first:"首页",next:"下一页",previous:"上一页",last:"末页"},menu:{text:"选择列："},sort:{ascending:"升序",descending:"降序",remove:"取消排序"},column:{hide:"隐藏列"},aggregation:{count:"计数：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左侧固定",pinRight:"右侧固定",unpin:"取消固定"},gridMenu:{columns:"列：",importerTitle:"导入文件",exporterAllAsCsv:"导出全部数据到CSV",exporterVisibleAsCsv:"导出可见数据到CSV",exporterSelectedAsCsv:"导出已选数据到CSV",exporterAllAsPdf:"导出全部数据到PDF",exporterVisibleAsPdf:"导出可见数据到PDF",exporterSelectedAsPdf:"导出已选数据到PDF"},importer:{noHeaders:"无法获取列名，确定文件包含表头？",noObjects:"无法获取数据，确定文件包含数据？",invalidCsv:"无法处理文件，确定是合法的CSV文件？",invalidJson:"无法处理文件，确定是合法的JSON文件？",jsonNotArray:"导入的文件不是JSON数组！"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-tw",{aggregate:{label:"行"},groupPanel:{description:"拖曳表頭到此處進行分組"},search:{placeholder:"查找",showingItems:"已顯示行數：",selectedItems:"已選擇行數：",totalItems:"總行數：",size:"每頁顯示行數：",first:"首頁",next:"下壹頁",previous:"上壹頁",last:"末頁"},menu:{text:"選擇列："},sort:{ascending:"升序",descending:"降序",remove:"取消排序"},column:{hide:"隱藏列"},aggregation:{count:"計數：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左側固定",pinRight:"右側固定",unpin:"取消固定"},gridMenu:{columns:"列：",importerTitle:"導入文件",exporterAllAsCsv:"導出全部數據到CSV",exporterVisibleAsCsv:"導出可見數據到CSV",exporterSelectedAsCsv:"導出已選數據到CSV",exporterAllAsPdf:"導出全部數據到PDF",exporterVisibleAsPdf:"導出可見數據到PDF",exporterSelectedAsPdf:"導出已選數據到PDF"},importer:{noHeaders:"無法獲取列名，確定文件包含表頭？",noObjects:"無法獲取數據，確定文件包含數據？",invalidCsv:"無法處理文件，確定是合法的CSV文件？",invalidJson:"無法處理文件，確定是合法的JSON文件？",jsonNotArray:"導入的文件不是JSON數組！"}}),e}])}])}(),function(){var e=angular.module("ui.grid.autoResize",["ui.grid"]);e.directive("uiGridAutoResize",["$timeout","gridUtil",function(e,i){return{require:"uiGrid",scope:!1,link:function(e,t,n,r){function o(){s=i.elementHeight(t),l=i.elementWidth(t)}function a(){clearTimeout(d),d=setTimeout(function(){var n=i.elementHeight(t),d=i.elementWidth(t);n!==s||d!==l?(r.grid.gridHeight=n,r.grid.gridWidth=d,e.$apply(function(){r.grid.refresh().then(function(){o(),a()})})):a()},250)}var l,s;o();var d;a(),e.$on("$destroy",function(){clearTimeout(d)})}}}])}(),function(){function e(e,i){this.row=e,this.col=i}var i=angular.module("ui.grid.cellNav",["ui.grid"]);i.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1}}),i.factory("uiGridCellNavFactory",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q",function(i,t,n){var r=function(e,i,t,n){this.rows=e.visibleRowCache,this.columns=i.visibleColumnCache,this.leftColumns=t?t.visibleColumnCache:[],this.rightColumns=n?n.visibleColumnCache:[],this.bodyContainer=e};return r.prototype.getFocusableCols=function(){var e=this.leftColumns.concat(this.columns,this.rightColumns);return e.filter(function(e){return e.colDef.allowCellFocus})},r.prototype.getFocusableRows=function(){return this.rows.filter(function(e){return e.allowCellFocus!==!1})},r.prototype.getNextRowCol=function(e,i,t){switch(e){case n.direction.LEFT:return this.getRowColLeft(i,t);case n.direction.RIGHT:return this.getRowColRight(i,t);case n.direction.UP:return this.getRowColUp(i,t);case n.direction.DOWN:return this.getRowColDown(i,t);case n.direction.PG_UP:return this.getRowColPageUp(i,t);case n.direction.PG_DOWN:return this.getRowColPageDown(i,t)}},r.prototype.getRowColLeft=function(i,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(i);-1===o&&(o=1);var l=0===o?n.length-1:o-1;return l>o?0===a?new e(i,n[l]):new e(r[a-1],n[l]):new e(i,n[l])},r.prototype.getRowColRight=function(i,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(i);-1===o&&(o=0);var l=o===n.length-1?0:o+1;return o>l?a===r.length-1?new e(i,n[l]):new e(r[a+1],n[l]):new e(i,n[l])},r.prototype.getRowColDown=function(i,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(i);return-1===o&&(o=0),a===r.length-1?new e(i,n[o]):new e(r[a+1],n[o])},r.prototype.getRowColPageDown=function(i,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(i);-1===o&&(o=0);var l=this.bodyContainer.minRowsToRender();return a>=r.length-l?new e(r[r.length-1],n[o]):new e(r[a+l],n[o])},r.prototype.getRowColUp=function(i,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(i);return-1===o&&(o=0),0===a?new e(i,n[o]):new e(r[a-1],n[o])},r.prototype.getRowColPageUp=function(i,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(i);-1===o&&(o=0);var l=this.bodyContainer.minRowsToRender();return 0>a-l?new e(r[0],n[o]):new e(r[a-l],n[o])},r}]),i.service("uiGridCellNavService",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory","ScrollEvent",function(e,i,t,n,r,o){var a={initializeGrid:function(e){e.registerColumnBuilder(a.cellNavColumnBuilder),e.cellNav={},e.cellNav.lastRowCol=null,e.cellNav.focusedCells=[],a.defaultGridOptions(e.options);var i={events:{cellNav:{navigate:function(){}}},methods:{cellNav:{scrollTo:function(i,t,n){a.scrollTo(e,i,t,n)},scrollToFocus:function(i,t,n){a.scrollToFocus(e,i,t,n)},scrollToIfNecessary:function(i,t,n){a.scrollToIfNecessary(e,i,t,n)},getFocusedCell:function(){return e.cellNav.lastRowCol},getCurrentSelection:function(){return e.cellNav.focusedCells},rowColSelectIndex:function(i){for(var t=-1,n=0;n<e.cellNav.focusedCells.length;n++)if(e.cellNav.focusedCells[n].col.uid===i.col.uid&&e.cellNav.focusedCells[n].row.uid===i.row.uid){t=n;break}return t}}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(e){e.modifierKeysToMultiSelectCells=e.modifierKeysToMultiSelectCells===!0},decorateRenderContainers:function(e){var i=e.hasRightContainer()?e.renderContainers.right:null,t=e.hasLeftContainer()?e.renderContainers.left:null;null!==t&&(e.renderContainers.left.cellNav=new r(e.renderContainers.body,t,i,e.renderContainers.body)),null!==i&&(e.renderContainers.right.cellNav=new r(e.renderContainers.body,i,e.renderContainers.body,t)),e.renderContainers.body.cellNav=new r(e.renderContainers.body,e.renderContainers.body,t,i)},getDirection:function(e){return e.keyCode===i.keymap.LEFT||e.keyCode===i.keymap.TAB&&e.shiftKey?t.direction.LEFT:e.keyCode===i.keymap.RIGHT||e.keyCode===i.keymap.TAB?t.direction.RIGHT:e.keyCode===i.keymap.UP||e.keyCode===i.keymap.ENTER&&e.shiftKey?t.direction.UP:e.keyCode===i.keymap.PG_UP?t.direction.PG_UP:e.keyCode===i.keymap.DOWN||e.keyCode===i.keymap.ENTER?t.direction.DOWN:e.keyCode===i.keymap.PG_DOWN?t.direction.PG_DOWN:null},cellNavColumnBuilder:function(e){var i=[];return e.allowCellFocus=void 0===e.allowCellFocus?!0:e.allowCellFocus,n.all(i)},scrollTo:function(e,i,t,n){var r=null,o=null;null!==t&&"undefined"!=typeof t&&(r=e.getRow(t)),null!==n&&"undefined"!=typeof n&&(o=e.getColumn(n.name?n.name:n.field)),this.scrollToInternal(e,i,r,o)},scrollToFocus:function(e,i,t,n){var r=null,o=null;null!==t&&(r=e.getRow(t)),null!==n&&(o=e.getColumn(n.name?n.name:n.field)),this.scrollToInternal(e,i,r,o);var a={row:r,col:o};e.cellNav.broadcastCellNav(a)},scrollToInternal:function(e,i,t,n){var r=new o(e,null,null,"uiGridCellNavService.scrollToInternal");if(null!==t){var a=e.renderContainers.body.visibleRowCache.indexOf(t),l=e.renderContainers.body.visibleRowCache.length,s=(a+a/(l-1))/l;r.y={percentage:s}}null!==n&&(r.x={percentage:this.getLeftWidth(e,n)/this.getLeftWidth(e,e.renderContainers.body.visibleColumnCache[e.renderContainers.body.visibleColumnCache.length-1])}),(r.y||r.x)&&r.fireScrollingEvent()},scrollToIfNecessary:function(e,i,t,n){var r=new o(e,null,null,"uiGridCellNavService.scrollToIfNecessary"),a=e.renderContainers.body.visibleRowCache,l=e.renderContainers.body.visibleColumnCache,s=e.renderContainers.body.prevScrollTop+e.headerHeight;s=0>s?0:s;var d=e.renderContainers.body.prevScrollLeft,c=e.renderContainers.body.prevScrollTop+e.gridHeight-e.headerHeight,u=e.renderContainers.body.prevScrollLeft+e.gridWidth;if(null!==t){var p=a.indexOf(t),g=e.renderContainers.body.getCanvasHeight()-e.renderContainers.body.getViewportHeight(),f=(p+1)*e.options.rowHeight;f=0>f?0:f;var h,m;s>f?(h=e.renderContainers.body.prevScrollTop-(s-f),m=h/g,r.y={percentage:m}):f>c&&(h=f-c+e.renderContainers.body.prevScrollTop,m=h/g,r.y={percentage:m})}if(null!==n){for(var v=l.indexOf(n),C=e.renderContainers.body.getCanvasWidth()-e.renderContainers.body.getViewportWidth(),w=0,b=0;v>b;b++){var y=l[b];w+=y.drawnWidth}w=0>w?0:w;var S=w+n.drawnWidth;S=0>S?0:S;var E,x;d>w?(E=e.renderContainers.body.prevScrollLeft-(d-w),x=E/C,x=x>1?1:x,r.x={percentage:x}):S>u&&(E=S-u+e.renderContainers.body.prevScrollLeft,x=E/C,x=x>1?1:x,r.x={percentage:x})}(r.y||r.x)&&r.fireScrollingEvent()},getLeftWidth:function(e,i){var t=0;if(!i)return t;var n=e.renderContainers.body.visibleColumnCache.indexOf(i);e.renderContainers.body.visibleColumnCache.forEach(function(e,i){n>i&&(t+=e.drawnWidth)});var r=0===n?0:(n+1)/e.renderContainers.body.visibleColumnCache.length;return t+=i.drawnWidth*r}};return a}]),i.directive("uiGridCellnav",["gridUtil","uiGridCellNavService","uiGridCellNavConstants",function(i,t,n){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,controller:function(){},compile:function(){return{pre:function(i,r,o,a){var l=i,s=a.grid;t.initializeGrid(s),a.cellNav={},a.cellNav.focusCell=function(e,i){a.cellNav.broadcastCellNav({row:e,col:i})},a.cellNav.broadcastCellNav=s.cellNav.broadcastCellNav=function(e,i){i=!(void 0===i||!i),a.cellNav.broadcastFocus(e,i),l.$broadcast(n.CELL_NAV_EVENT,e,i)},a.cellNav.broadcastFocus=function(i,t){t=!(void 0===t||!t);var n=i.row,r=i.col,o=a.grid.api.cellNav.rowColSelectIndex(i);if(null===s.cellNav.lastRowCol||-1===o){var l=new e(n,r);s.api.cellNav.raise.navigate(l,s.cellNav.lastRowCol),s.cellNav.lastRowCol=l,a.grid.options.modifierKeysToMultiSelectCells&&t?s.cellNav.focusedCells.push(i):s.cellNav.focusedCells=[i]}else s.options.modifierKeysToMultiSelectCells&&t&&o>=0&&s.cellNav.focusedCells.splice(o,1)},a.cellNav.handleKeyDown=function(e){var r=t.getDirection(e);if(null===r)return!0;var o="body";e.uiGridTargetRenderContainerId&&(o=e.uiGridTargetRenderContainerId);var l=a.grid.api.cellNav.getFocusedCell();if(l){var d=a.grid.renderContainers[o].cellNav.getNextRowCol(r,l.row,l.col);return d.eventType=n.EVENT_TYPE.KEYDOWN,a.cellNav.broadcastCellNav(d),t.scrollToIfNecessary(s,i,d.row,d.col),e.stopPropagation(),e.preventDefault(),!1}}},post:function(){}}}}}]),i.directive("uiGridRenderContainer",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","uiGridCellNavConstants",function(e,i,t,n,r){return{replace:!0,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function(t,n,o,a){var l=a[0],s=a[1];if(l.grid.api.cellNav){var d=s.containerId,c=l.grid;r.decorateRenderContainers(c),n.attr("tabindex",-1),n.on("keydown",function(e){return e.uiGridTargetRenderContainerId=d,l.cellNav.handleKeyDown(e)});var u=!1;c.api.core.on.scrollEvent(t,function(t){t.grid&&t.grid.id!==l.grid.id||null!=l.grid.api.cellNav.getFocusedCell()&&("uiGridCellNavService.scrollToIfNecessary"===t.source?u=!0:e(u?function(){e(function(){var e=l.grid.api.cellNav.getFocusedCell();i.activeElement===i.body&&n[0].focus(),l.cellNav.broadcastCellNav(e),u=!1})}:function(){var e={col:{uid:null},row:{uid:null}};l.cellNav.broadcastCellNav(e)}))})}}}}}}]),i.directive("uiGridCell",["$timeout","$document","uiGridCellNavService","gridUtil","uiGridCellNavConstants","uiGridConstants",function(i,t,n,r,o){return{priority:-150,restrict:"A",require:"^uiGrid",scope:!1,link:function(i,t,n,r){function a(){t.find("div").attr("tabindex",-1)}function l(){var e=t.find("div");e.addClass("ui-grid-cell-focus")}function s(){var e=t.find("div");e.removeClass("ui-grid-cell-focus")}r.grid.api.cellNav&&i.col.colDef.allowCellFocus&&(a(),t.find("div").on("click",function(t){r.cellNav.broadcastCellNav(new e(i.row,i.col),t.ctrlKey||t.metaKey),t.stopPropagation()}),i.$on(o.CELL_NAV_EVENT,function(e,n,a){n.row===i.row&&n.col===i.col?(r.grid.options.modifierKeysToMultiSelectCells&&a&&-1===r.grid.api.cellNav.rowColSelectIndex(n)?s():l(),n.hasOwnProperty("eventType")&&n.eventType===o.EVENT_TYPE.KEYDOWN&&t.find("div")[0].focus()):r.grid.options.modifierKeysToMultiSelectCells&&a||s()}),i.$on("$destroy",function(){t.find("div").off("click")}))}}}])}(),function(){var e=angular.module("ui.grid.edit",["ui.grid"]);e.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}}),e.service("uiGridEditService",["$q","$templateCache","uiGridConstants","gridUtil",function(e,i,t,n){var r={initializeGrid:function(e){r.defaultGridOptions(e.options),e.registerColumnBuilder(r.editColumnBuilder);var i={events:{edit:{afterCellEdit:function(){},beginCellEdit:function(){},cancelCellEdit:function(){}}},methods:{edit:{}}};e.api.registerEventsFromObject(i.events)},defaultGridOptions:function(e){e.cellEditableCondition=void 0===e.cellEditableCondition?!0:e.cellEditableCondition,e.enableCellEditOnFocus=void 0===e.enableCellEditOnFocus?!1:e.enableCellEditOnFocus},editColumnBuilder:function(i,t,r){var o=[];return i.enableCellEdit=void 0===i.enableCellEdit?void 0===r.enableCellEdit?"object"!==i.type:r.enableCellEdit:i.enableCellEdit,i.cellEditableCondition=void 0===i.cellEditableCondition?r.cellEditableCondition:i.cellEditableCondition,i.enableCellEdit&&(i.editableCellTemplate=i.editableCellTemplate||r.editableCellTemplate||"ui-grid/cellEditor",o.push(n.getTemplate(i.editableCellTemplate).then(function(e){t.editableCellTemplate=e},function(){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+i.editableCellTemplate+"'")}))),i.enableCellEditOnFocus=void 0===i.enableCellEditOnFocus?r.enableCellEditOnFocus:i.enableCellEditOnFocus,e.all(o)},isStartEditKey:function(e){return e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey||e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB||e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey||e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER?!1:!0}};return r}]),e.directive("uiGridEdit",["gridUtil","uiGridEditService",function(e,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,r){i.initializeGrid(r.grid)},post:function(){}}}}}]),e.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService",function(e,i,t,n,r,o,a,l){var s=500;return{priority:-100,restrict:"A",scope:!1,require:"?^uiGrid",link:function(o,d,c,u){function p(){d.on("dblclick",w),d.on("keydown",v),o.col.colDef.enableCellEditOnFocus&&d.find("div").on("focus",m),d.on("touchstart",g)}function g(e){"undefined"!=typeof e.originalEvent&&void 0!==e.originalEvent&&(e=e.originalEvent),d.on("touchend",f),T=t(function(){},s),T.then(function(){setTimeout(w,0),d.off("touchend",f)})}function f(){t.cancel(T),d.off("touchend",f)}function h(){d.off("dblclick",w),d.off("keydown",v),o.col.colDef.enableCellEditOnFocus&&d.find("div").off("focus",m),d.off("touchstart",g)}function m(e){u&&u.cellNav&&u.cellNav.focusCell(o.row,o.col),e.stopPropagation(),w()}function v(e){l.isStartEditKey(e)&&w()}function C(e,i){return!i.isSaving&&(angular.isFunction(e.colDef.cellEditableCondition)?e.colDef.cellEditableCondition(o):e.colDef.cellEditableCondition)}function w(){if(!P&&C(o.col,o.row)){o.grid.api.cellNav&&o.grid.api.cellNav.scrollToIfNecessary(o,o.row,o.col),R=a(o.row.getQualifiedColField(o.col)),x=R(o),E=o.col.editableCellTemplate,E=E.replace(n.MODEL_COL_FIELD,o.row.getQualifiedColField(o.col));var i=o.col.colDef.editDropdownFilter?"|"+o.col.colDef.editDropdownFilter:"";E=E.replace(n.CUSTOM_FILTERS,i);var t="text";switch(o.col.colDef.type){case"boolean":t="checkbox";break;case"number":t="number";break;case"date":t="date"}E=E.replace("INPUT_TYPE",t);var l=o.col.colDef.editDropdownRowEntityOptionsArrayPath;o.editDropdownOptionsArray=l?S(o.row.entity,l):o.col.colDef.editDropdownOptionsArray,o.editDropdownIdLabel=o.col.colDef.editDropdownIdLabel?o.col.colDef.editDropdownIdLabel:"id",o.editDropdownValueLabel=o.col.colDef.editDropdownValueLabel?o.col.colDef.editDropdownValueLabel:"value";o.$apply(function(){P=!0,h();var i=angular.element(E);d.append(i),A=o.$new(),e(i)(A);var t=angular.element(d.children()[0]);I=t.hasClass("ui-grid-cell-focus"),t.addClass("ui-grid-cell-contents-hidden")});var s=o.col.grid.api.core.on.scrollEvent(o,function(){b(!0),o.grid.api.edit.raise.afterCellEdit(o.row.entity,o.col.colDef,R(o),x),s(),c(),u()
}),c=o.$on(r.events.END_CELL_EDIT,function(e,i){b(i),o.grid.api.edit.raise.afterCellEdit(o.row.entity,o.col.colDef,R(o),x),c(),s(),u()}),u=o.$on(r.events.CANCEL_CELL_EDIT,function(){y(),u(),s(),c()});o.$broadcast(r.events.BEGIN_CELL_EDIT),o.grid.api.edit.raise.beginCellEdit(o.row.entity,o.col.colDef)}}function b(e){if(P){var i=angular.element(d.children()[0]);A.$destroy(),angular.element(d.children()[1]).remove(),i.removeClass("ui-grid-cell-contents-hidden"),e&&I&&i[0].focus(),I=!1,P=!1,p(),o.grid.api.core.notifyDataChange(n.dataChange.EDIT)}}function y(){P&&(R.assign(o,x),o.$apply(),o.grid.api.edit.raise.cancelCellEdit(o.row.entity,o.col.colDef),b(!0))}function S(e,i){i=i.replace(/\[(\w+)\]/g,".$1"),i=i.replace(/^\./,"");for(var t=i.split(".");t.length;){var n=t.shift();if(!(n in e))return;e=e[n]}return e}if(o.col.colDef.enableCellEdit&&o.row.enableCellEdit!==!1){var E,x,R,T,A,P=!1,I=!1;p();try{var G=i.get("uiGridCellNavConstants");o.col.colDef.enableCellEditOnFocus&&o.$on(G.CELL_NAV_EVENT,function(e,i){i.row===o.row&&i.col===o.col?w():b()})}catch(D){}}}}}]),e.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants",function(e,i,t){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(){},post:function(e,n,r,o){var a,l;o[0]&&(a=o[0]),o[1]&&(l=o[1]),e.$on(t.events.BEGIN_CELL_EDIT,function(){n[0].focus(),n[0].select(),n.on("blur",function(i){e.stopEdit(i)})}),e.deepEdit=!1,e.stopEdit=function(i){e.inputForm&&!e.inputForm.$valid?(i.stopPropagation(),e.$emit(t.events.CANCEL_CELL_EDIT)):e.$emit(t.events.END_CELL_EDIT),e.deepEdit=!1},n.on("click",function(){e.deepEdit=!0}),n.on("keydown",function(n){switch(n.keyCode){case i.keymap.ESC:n.stopPropagation(),e.$emit(t.events.CANCEL_CELL_EDIT);break;case i.keymap.ENTER:e.stopEdit(n);break;case i.keymap.TAB:e.stopEdit(n)}if(e.deepEdit)switch(n.keyCode){case i.keymap.LEFT:n.stopPropagation();break;case i.keymap.RIGHT:n.stopPropagation();break;case i.keymap.UP:n.stopPropagation();break;case i.keymap.DOWN:n.stopPropagation()}else a&&a.hasOwnProperty("cellNav")&&l&&(n.uiGridTargetRenderContainerId=l.containerId,a.cellNav.handleKeyDown(n));return!0})}}}}}]),e.directive("uiGridEditor",["$filter",function(e){function i(e){if("undefined"==typeof e||""===e)return null;var i=e.split("-");if(3!==i.length)return null;var t=parseInt(i[0],10),n=parseInt(i[1],10),r=parseInt(i[2],10);return 1>n||1>t||1>r?null:new Date(t,n-1,r)}return{priority:-100,require:"?ngModel",link:function(t,n,r,o){2===angular.version.minor&&r.type&&"date"===r.type&&o&&(o.$formatters.push(function(i){return o.$setValidity(null,!i||!isNaN(i.getTime())),e("date")(i,"yyyy-MM-dd")}),o.$parsers.push(function(e){if(e&&e.length>0){var t=i(e);return o.$setValidity(null,t&&!isNaN(t.getTime())),t}return o.$setValidity(null,!0),null}))}}}]),e.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants",function(e,i){return{scope:!0,compile:function(){return{pre:function(){},post:function(t,n){t.$on(i.events.BEGIN_CELL_EDIT,function(){n[0].focus(),n[0].style.width=n[0].parentElement.offsetWidth-1+"px",n.on("blur",function(e){t.stopEdit(e)})}),t.stopEdit=function(){t.$emit(i.events.END_CELL_EDIT)},n.on("keydown",function(n){switch(n.keyCode){case e.keymap.ESC:n.stopPropagation(),t.$emit(i.events.CANCEL_CELL_EDIT);break;case e.keymap.ENTER:t.stopEdit(n);break;case e.keymap.LEFT:t.stopEdit(n);break;case e.keymap.RIGHT:t.stopEdit(n);break;case e.keymap.UP:n.stopPropagation();break;case e.keymap.DOWN:n.stopPropagation();break;case e.keymap.TAB:t.stopEdit(n)}return!0})}}}}}])}(),function(){var e=angular.module("ui.grid.expandable",["ui.grid"]);e.service("uiGridExpandableService",["gridUtil","$compile",function(e){var i={initializeGrid:function(t){t.expandable={},t.expandable.expandedAll=!1,t.options.enableExpandable=t.options.enableExpandable!==!1,t.options.expandableRowHeight=t.options.expandableRowHeight||150,t.options.expandableRowHeaderWidth=t.options.expandableRowHeaderWidth||40,t.options.enableExpandable&&!t.options.expandableRowTemplate&&(e.logError("You have not set the expandableRowTemplate, disabling expandable module"),t.options.enableExpandable=!1);var n={events:{expandable:{rowExpandedStateChanged:function(){}}},methods:{expandable:{toggleRowExpansion:function(e){var n=t.getRow(e);null!==n&&i.toggleRowExpansion(t,n)},expandAllRows:function(){i.expandAllRows(t)},collapseAllRows:function(){i.collapseAllRows(t)},toggleAllRows:function(){i.toggleAllRows(t)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods)},toggleRowExpansion:function(e,i){i.isExpanded=!i.isExpanded,i.isExpanded?i.height=i.grid.options.rowHeight+e.options.expandableRowHeight:(i.height=i.grid.options.rowHeight,e.expandable.expandedAll=!1),e.api.expandable.raise.rowExpandedStateChanged(i)},expandAllRows:function(e){angular.forEach(e.renderContainers.body.visibleRowCache,function(t){t.isExpanded||i.toggleRowExpansion(e,t)}),e.expandable.expandedAll=!0,e.refresh()},collapseAllRows:function(e){angular.forEach(e.renderContainers.body.visibleRowCache,function(t){t.isExpanded&&i.toggleRowExpansion(e,t)}),e.expandable.expandedAll=!1,e.refresh()},toggleAllRows:function(e){e.expandable.expandedAll?i.collapseAllRows(e):i.expandAllRows(e)}};return i}]),e.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(e,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,n,r,o){if(o.grid.options.enableExpandableRowHeader!==!1){var a={name:"expandableButtons",displayName:"",exporterSuppressExport:!0,enableColumnResizing:!1,enableColumnMenu:!1,width:o.grid.options.expandableRowHeaderWidth||40};a.cellTemplate=i.get("ui-grid/expandableRowHeader"),a.headerCellTemplate=i.get("ui-grid/expandableTopRowHeader"),o.grid.addRowHeaderColumn(a)}e.initializeGrid(o.grid)},post:function(){}}}}}]),e.directive("uiGrid",["uiGridExpandableService","$templateCache",function(){return{replace:!0,priority:1e3,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,t,n){n.grid.api.core.on.renderingComplete(e,function(){e.row&&e.row.grid&&e.row.grid.options&&e.row.grid.options.enableExpandable&&(n.grid.parentRow=e.row)})},post:function(){}}}}}]),e.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$compile","uiGridConstants","gridUtil","$interval","$log",function(e,i,t,n,r){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(e,i){r.getTemplate(e.grid.options.expandableRowTemplate).then(function(n){if(e.grid.options.expandableRowScope){var r=e.grid.options.expandableRowScope;for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}var a=t(n)(e);i.append(a),e.row.expandedRendered=!0})},post:function(e){e.$on("$destroy",function(){e.row.expandedRendered=!1})}}}}}]),e.directive("uiGridRow",["$compile","gridUtil","$templateCache",function(){return{priority:-200,scope:!1,compile:function(){return{pre:function(e){function i(){var i=e.grid,t=0;return angular.forEach(i.columns,function(e){"left"===e.renderContainer&&(t+=e.width)}),t=Math.floor(t),".grid"+i.id+" .ui-grid-pinned-container-"+e.colContainer.name+", .grid"+i.id+" .ui-grid-pinned-container-"+e.colContainer.name+" .ui-grid-render-container-"+e.colContainer.name+" .ui-grid-viewport .ui-grid-canvas .ui-grid-row { width: "+t+"px; }"}e.expandableRow={},e.expandableRow.shouldRenderExpand=function(){var i="body"===e.colContainer.name&&e.grid.options.enableExpandable!==!1&&e.row.isExpanded&&(!e.grid.isScrollingVertically||e.row.expandedRendered);return i},e.expandableRow.shouldRenderFiller=function(){var i=e.row.isExpanded&&("body"!==e.colContainer.name||e.grid.isScrollingVertically&&!e.row.expandedRendered);return i},"left"===e.colContainer.name&&e.grid.registerStyleComputation({priority:15,func:i})},post:function(){}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,i,t){return{priority:-200,scope:!1,compile:function(e){var i=angular.element(e.children().children()[0]),n=t.get("ui-grid/expandableScrollFiller"),r=t.get("ui-grid/expandableRow");return i.append(r),i.append(n),{pre:function(){},post:function(){}}}}}])}(),function(){var e=angular.module("ui.grid.exporter",["ui.grid"]);e.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"}),e.service("uiGridExporterService",["$q","uiGridExporterConstants","uiGridSelectionConstants","gridUtil","$compile","$interval","i18nService",function(e,i,t,n,r,o,a){var l={initializeGrid:function(e){e.exporter={},this.defaultGridOptions(e.options);var i={events:{exporter:{}},methods:{exporter:{csvExport:function(i,t){l.csvExport(e,i,t)},pdfExport:function(i,t){l.pdfExport(e,i,t)}}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods),e.api.core.addToGridMenu?l.addToMenu(e):o(function(){e.api.core.addToGridMenu&&l.addToMenu(e)},100,1)},defaultGridOptions:function(e){e.exporterSuppressMenu=e.exporterSuppressMenu===!0,e.exporterMenuLabel=e.exporterMenuLabel?e.exporterMenuLabel:"Export",e.exporterSuppressColumns=e.exporterSuppressColumns?e.exporterSuppressColumns:[],e.exporterCsvColumnSeparator=e.exporterCsvColumnSeparator?e.exporterCsvColumnSeparator:",",e.exporterCsvFilename=e.exporterCsvFilename?e.exporterCsvFilename:"download.csv",e.exporterPdfDefaultStyle=e.exporterPdfDefaultStyle?e.exporterPdfDefaultStyle:{fontSize:11},e.exporterPdfTableStyle=e.exporterPdfTableStyle?e.exporterPdfTableStyle:{margin:[0,5,0,15]},e.exporterPdfTableHeaderStyle=e.exporterPdfTableHeaderStyle?e.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"},e.exporterPdfHeader=e.exporterPdfHeader?e.exporterPdfHeader:null,e.exporterPdfFooter=e.exporterPdfFooter?e.exporterPdfFooter:null,e.exporterPdfOrientation=e.exporterPdfOrientation?e.exporterPdfOrientation:"landscape",e.exporterPdfPageSize=e.exporterPdfPageSize?e.exporterPdfPageSize:"A4",e.exporterPdfMaxGridWidth=e.exporterPdfMaxGridWidth?e.exporterPdfMaxGridWidth:720,e.exporterMenuCsv=void 0!==e.exporterMenuCsv?e.exporterMenuCsv:!0,e.exporterMenuPdf=void 0!==e.exporterMenuPdf?e.exporterMenuPdf:!0,e.exporterPdfCustomFormatter=e.exporterPdfCustomFormatter&&"function"==typeof e.exporterPdfCustomFormatter?e.exporterPdfCustomFormatter:function(e){return e},e.exporterHeaderFilterUseName=e.exporterHeaderFilterUseName===!0,e.exporterFieldCallback=e.exporterFieldCallback?e.exporterFieldCallback:function(e,i,t,n){return n}},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:a.getSafeText("gridMenu.exporterAllAsCsv"),action:function(){this.grid.api.exporter.csvExport(i.ALL,i.ALL)},shown:function(){return this.grid.options.exporterMenuCsv}},{title:a.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(){this.grid.api.exporter.csvExport(i.VISIBLE,i.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv}},{title:a.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(){this.grid.api.exporter.csvExport(i.SELECTED,i.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0}},{title:a.getSafeText("gridMenu.exporterAllAsPdf"),action:function(){this.grid.api.exporter.pdfExport(i.ALL,i.ALL)},shown:function(){return this.grid.options.exporterMenuPdf}},{title:a.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(){this.grid.api.exporter.pdfExport(i.VISIBLE,i.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf}},{title:a.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(){this.grid.api.exporter.pdfExport(i.SELECTED,i.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0}}])},csvExport:function(e,i,t){var n=this.getColumnHeaders(e,t),r=this.getData(e,i,t),o=this.formatAsCsv(n,r,e.options.exporterCsvColumnSeparator);this.downloadFile(e.options.exporterCsvFilename,o)},getColumnHeaders:function(e,t){var n=[];return angular.forEach(e.columns,function(r){!r.visible&&t!==i.ALL||r.colDef.exporterSuppressExport===!0||-1!==e.options.exporterSuppressColumns.indexOf(r.name)||n.push({name:r.field,displayName:e.options.exporterHeaderFilter?e.options.exporterHeaderFilter(e.options.exporterHeaderFilterUseName?r.name:r.displayName):r.displayName,width:r.drawnWidth?r.drawnWidth:r.width,align:"number"===r.colDef.type?"right":"left"})}),n},getData:function(e,t,r){var o,a=[];switch(t){case i.ALL:o=e.rows;break;case i.VISIBLE:o=e.getVisibleRows();break;case i.SELECTED:e.api.selection?o=e.api.selection.getSelectedGridRows():n.logError("selection feature must be enabled to allow selected rows to be exported")}return angular.forEach(o,function(t){if(t.exporterEnableExporting!==!1){var n=[];angular.forEach(e.columns,function(o){if((o.visible||r===i.ALL)&&o.colDef.exporterSuppressExport!==!0&&-1===e.options.exporterSuppressColumns.indexOf(o.name)){var a={value:e.options.exporterFieldCallback(e,t,o,e.getCellValue(t,o))};o.colDef.exporterPdfAlign&&(a.alignment=o.colDef.exporterPdfAlign),n.push(a)}}),a.push(n)}}),a},formatAsCsv:function(e,i,t){var n=this,r=e.map(function(e){return{value:e.displayName}}),o=n.formatRowAsCsv(this,t)(r)+"\n";return o+=i.map(this.formatRowAsCsv(this,t)).join("\n")},formatRowAsCsv:function(e,i){return function(t){return t.map(e.formatFieldAsCsv).join(i)}},formatFieldAsCsv:function(e){return null==e.value?"":"number"==typeof e.value?e.value:"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?'"'+e.value.replace(/"/g,'""')+'"':JSON.stringify(e.value)},downloadFile:function(e,i){var t,n=document,r=n.createElement("a"),o="application/octet-stream;charset=utf-8";if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob(["﻿",i],{type:o}),e);if("download"in r){var a=new Blob([i],{type:o});t=URL.createObjectURL(a),r.setAttribute("download",e)}else t="data:"+o+","+encodeURIComponent(i),r.setAttribute("target","_blank");r.href=t,r.setAttribute("style","display:none;"),n.body.appendChild(r),setTimeout(function(){if(r.click)r.click();else if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),r.dispatchEvent(e)}n.body.removeChild(r)},100)},pdfExport:function(e,i,t){var n=this.getColumnHeaders(e,t),r=this.getData(e,i,t),o=this.prepareAsPdf(e,n,r);pdfMake.createPdf(o).open()},prepareAsPdf:function(e,i,t){var n=this.calculatePdfHeaderWidths(e,i),r=i.map(function(e){return{text:e.displayName,style:"tableHeader"}}),o=t.map(this.formatRowAsPdf(this)),a=[r].concat(o),l={pageOrientation:e.options.exporterPdfOrientation,pageSize:e.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:n,body:a}}],styles:{tableStyle:e.options.exporterPdfTableStyle,tableHeader:e.options.exporterPdfTableHeaderStyle},defaultStyle:e.options.exporterPdfDefaultStyle};return e.options.exporterPdfLayout&&(l.layout=e.options.exporterPdfLayout),e.options.exporterPdfHeader&&(l.header=e.options.exporterPdfHeader),e.options.exporterPdfFooter&&(l.footer=e.options.exporterPdfFooter),e.options.exporterPdfCustomFormatter&&(l=e.options.exporterPdfCustomFormatter(l)),l},calculatePdfHeaderWidths:function(e,i){var t=0;angular.forEach(i,function(e){"number"==typeof e.width&&(t+=e.width)});var n=0;angular.forEach(i,function(e){if("*"===e.width&&(n+=100),"string"==typeof e.width&&e.width.match(/(\d)*%/)){var i=parseInt(e.width.match(/(\d)*%/)[0]);e.width=t*i/100,n+=e.width}});var r=t+n;return i.map(function(i){return"*"===i.width?i.width:i.width*e.options.exporterPdfMaxGridWidth/r})},formatRowAsPdf:function(e){return function(i){return i.map(e.formatFieldAsPdfString)}},formatFieldAsPdfString:function(e){var i;return i=null==e.value?"":"number"==typeof e.value?e.value.toString():"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?e.value.replace(/"/g,'""'):JSON.stringify(e.value).replace(/^"/,"").replace(/"$/,""),e.alignment&&"string"==typeof e.alignment&&(i={text:i,alignment:e.alignment}),i}};return l}]),e.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(e,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,t,n,r){i.initializeGrid(r.grid),r.grid.exporter.$scope=e}}}])}(),function(){var e=angular.module("ui.grid.importer",["ui.grid"]);e.constant("uiGridImporterConstants",{featureName:"importer"}),e.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(e,i,t,n,r,o,a,l){var s={initializeGrid:function(e,i){i.importer={$scope:e},this.defaultGridOptions(i.options);var t={events:{importer:{}},methods:{importer:{importFile:function(e){s.importThisFile(i,e)}}}};i.api.registerEventsFromObject(t.events),i.api.registerMethodsFromObject(t.methods),i.options.enableImporter&&i.options.importerShowMenu&&(i.api.core.addToGridMenu?s.addToMenu(i):o(function(){i.api.core.addToGridMenu&&s.addToMenu(i)},100,1))},defaultGridOptions:function(e){e.enableImporter||void 0===e.enableImporter?l.hasOwnProperty("File")&&l.hasOwnProperty("FileReader")&&l.hasOwnProperty("FileList")&&l.hasOwnProperty("Blob")?e.enableImporter=!0:(n.logError("The File APIs are not fully supported in this browser, grid importer cannot be used."),e.enableImporter=!1):e.enableImporter=!1,e.importerProcessHeaders=e.importerProcessHeaders||s.processHeaders,e.importerHeaderFilter=e.importerHeaderFilter||function(e){return e},e.importerErrorCallback&&"function"==typeof e.importerErrorCallback||delete e.importerErrorCallback,e.enableImporter!==!0||e.importerDataAddCallback||(n.logError("You have not set an importerDataAddCallback, importer is disabled"),e.enableImporter=!1),e.importerShowMenu=e.importerShowMenu!==!1,e.importerObjectCallback=e.importerObjectCallback||function(e,i){return i}},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:a.getSafeText("gridMenu.importerTitle")},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(){this.grid.api.importer.importAFile(e)}}])},importThisFile:function(e,i){if(!i)return void n.logError("No file object provided to importThisFile, should be impossible, aborting");var t=new FileReader;switch(i.type){case"application/json":t.onload=s.importJsonClosure(e);break;default:t.onload=s.importCsvClosure(e)}t.readAsText(i)},importJsonClosure:function(e){return function(i){var t,n=[];angular.forEach(s.parseJson(e,i),function(i){t=s.newObject(e),angular.extend(t,i),t=e.options.importerObjectCallback(e,t),n.push(t)}),s.addObjects(e,n)}},parseJson:function(e,i){var t;try{t=JSON.parse(i.target.result)}catch(n){return void s.alertError(e,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",i.target.result)}return Array.isArray(t)?t:(s.alertError(e,"importer.jsonNotarray","Import failed, file is not an array, file was: ",i.target.result),[])},importCsvClosure:function(e){return function(i){var t=s.parseCsv(i);if(!t||t.length<1)return void s.alertError(e,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",i.target.result);var n=s.createCsvObjects(e,t);return n&&0!==n.length?void s.addObjects(e,n):void s.alertError(e,"importer.noObjects","Objects were not able to be derived, content was: ",i.target.result)}},parseCsv:function(e){var i=e.target.result;return CSV.parse(i)},createCsvObjects:function(e,i){var t=e.options.importerProcessHeaders(e,i.shift());if(!t||0===t.length)return s.alertError(e,"importer.noHeaders","Column names could not be derived, content was: ",i),[];var n,r=[];return angular.forEach(i,function(i){n=s.newObject(e),angular.forEach(i,function(e,i){null!==t[i]&&(n[t[i]]=e)}),n=e.options.importerObjectCallback(e,n),r.push(n)}),r},processHeaders:function(e,i){var t=[];if(e.options.columnDefs&&0!==e.options.columnDefs.length){var n=s.flattenColumnDefs(e,e.options.columnDefs);return angular.forEach(i,function(e){t.push(n[e]?n[e]:n[e.toLowerCase()]?n[e.toLowerCase()]:null)}),t}return angular.forEach(i,function(e){t.push(e.replace(/[^0-9a-zA-Z\-_]/g,"_"))}),t},flattenColumnDefs:function(e,i){var t={};return angular.forEach(i,function(i){i.name&&(t[i.name]=i.field||i.name,t[i.name.toLowerCase()]=i.field||i.name),i.field&&(t[i.field]=i.field||i.name,t[i.field.toLowerCase()]=i.field||i.name),i.displayName&&(t[i.displayName]=i.field||i.name,t[i.displayName.toLowerCase()]=i.field||i.name),i.displayName&&e.options.importerHeaderFilter&&(t[e.options.importerHeaderFilter(i.displayName)]=i.field||i.name,t[e.options.importerHeaderFilter(i.displayName).toLowerCase()]=i.field||i.name)}),t},addObjects:function(e,t){if(e.api.rowEdit){var n=e.registerDataChangeCallback(function(){e.api.rowEdit.setRowsDirty(t),n()},[i.dataChange.ROW]);e.importer.$scope.$on("$destroy",n)}e.importer.$scope.$apply(e.options.importerDataAddCallback(e,t))},newObject:function(e){return"undefined"!=typeof e.options&&"undefined"!=typeof e.options.importerNewObject?new e.options.importerNewObject:{}},alertError:function(e,i,t,r){e.options.importerErrorCallback?e.options.importerErrorCallback(e,i,t,r):(l.alert(a.getSafeText(i)),n.logError(t+r))}};return s}]),e.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,t,n,r){i.initializeGrid(e,r.grid)}}}]),e.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,i,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,templateUrl:"ui-grid/importerMenuItem",link:function(e,n,r,o){var a=function(e){var t=e.srcElement||e.target;if(t&&t.files&&1===t.files.length){var n=t.files[0];i.importThisFile(s,n),t.form.reset()}},l=n[0].querySelectorAll(".ui-grid-importer-file-chooser"),s=o.grid;1!==l.length?t.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue"):l[0].addEventListener("change",a,!1)}}}])}(),function(){var e=angular.module("ui.grid.infiniteScroll",["ui.grid"]);e.service("uiGridInfiniteScrollService",["gridUtil","$compile","$timeout",function(){var e={initializeGrid:function(i){e.defaultGridOptions(i.options);var t={events:{infiniteScroll:{needLoadMoreData:function(){}}},methods:{infiniteScroll:{dataLoaded:function(){i.options.loadTimout=!1}}}};i.options.loadTimout=!1,i.api.registerEventsFromObject(t.events),i.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enableInfiniteScroll=e.enableInfiniteScroll!==!1},loadData:function(e){e.options.loadTimout=!0,e.api.infiniteScroll.raise.needLoadMoreData()},checkScroll:function(e,i){var t=e.options.infiniteScrollPercentage?e.options.infiniteScrollPercentage:20;return!e.options.loadTimout&&t>=i?(this.loadData(e),!0):!1}};return e}]),e.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(e){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(){return{pre:function(i,t,n,r){e.initializeGrid(r.grid)},post:function(){}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","uiGridInfiniteScrollService","uiGridConstants",function(e,i,t){return{priority:-200,scope:!1,link:function(e){e.grid.options.enableInfiniteScroll&&e.grid.api.core.on.scrollEvent(e,function(i){if(i.y){var n=100-100*i.y.percentage;t.checkScroll(e.grid,n)}})}}}])}(),function(){var e=angular.module("ui.grid.moveColumns",["ui.grid"]);e.service("uiGridMoveColumnService",["$q","$timeout","$log","ScrollEvent","uiGridConstants",function(e,i,t,n,r){var o={initializeGrid:function(e){var i=this;this.registerPublicApi(e),this.defaultGridOptions(e.options),e.registerColumnBuilder(i.movableColumnBuilder)},registerPublicApi:function(e){var i=this,t={events:{colMovable:{columnPositionChanged:function(){}}},methods:{colMovable:{moveColumn:function(t,n){var r=e.columns;if(!angular.isNumber(t)||!angular.isNumber(n))return void console.log("Please provide valid values for originalPosition and finalPosition");for(var o=0,a=0;a<r.length;a++)(angular.isDefined(r[a].colDef.visible)&&r[a].colDef.visible===!1||r[a].isRowHeader===!0)&&o++;if(t>=r.length-o||n>=r.length-o)return void console.log("Invalid values for originalPosition, finalPosition");var l=function(e){for(var i=e,t=0;i>=t;t++)angular.isDefined(r[t])&&(angular.isDefined(r[t].colDef.visible)&&r[t].colDef.visible===!1||r[t].isRowHeader===!0)&&i++;return i};i.redrawColumnAtPosition(e,l(t),l(n))}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enableColumnMoving=e.enableColumnMoving!==!1},movableColumnBuilder:function(i,t,n){var r=[];return i.enableColumnMoving=void 0===i.enableColumnMoving?n.enableColumnMoving:i.enableColumnMoving,e.all(r)},redrawColumnAtPosition:function(e,t,n){var o=e.columns,a=o[t];if(a.colDef.enableColumnMoving){if(t>n)for(var l=t;l>n;l--)o[l]=o[l-1];else if(n>t)for(var s=t;n>s;s++)o[s]=o[s+1];o[n]=a,i(function(){e.refresh(),e.api.colMovable.raise.columnPositionChanged(a.colDef,t,n),e.api.core.notifyDataChange(r.dataChange.COLUMN)})}}};return o}]),e.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(e){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(i,t,n,r){e.initializeGrid(r.grid)},post:function(){}}}}}]),e.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function(e,i,t,n,r,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,r,l,s){e.col.colDef.enableColumnMoving&&e.$on(o.events.COLUMN_HEADER_CLICK,function(o,l){if(l.columnName===e.col.colDef.name&&!e.col.renderContainer){var d=l.event;if("ui-grid-icon-angle-down"!==d.target.className&&"I"!==d.target.tagName&&d.target.className.indexOf("ui-grid-filter-input")<0){var c,u,p=e.grid.element[0].getBoundingClientRect().left,g=d.pageX,f=0,h=p+e.grid.getViewportWidth(),m=!1,v=function(){m=!0,c=r.clone(),r.parent().append(c),c.addClass("movingColumn");var i={},t=r[0].getBoundingClientRect().left;i.left=t-p+"px";var n=e.grid.element[0].getBoundingClientRect().right,o=r[0].getBoundingClientRect().right;o>n&&(u=e.col.drawnWidth+(n-o),i.width=u+"px"),c.css(i)},C=function(t){s.fireEvent("hide-menu");for(var n=e.grid.columns,r=0,o=0;o<n.length;o++)(angular.isUndefined(n[o].colDef.visible)||n[o].colDef.visible===!0)&&(r+=n[o].drawnWidth||n[o].width||n[o].colDef.width);var l,d=c[0].getBoundingClientRect().left-1,g=c[0].getBoundingClientRect().right;if(l="ie"===i.detectBrowser()?d+t:d-p+t,l=h>l?l:h,(d>=p||t>0)&&(h>=g||0>t))c.css({visibility:"visible",left:l+"px"});else if(r>Math.ceil(s.grid.gridWidth)){t*=8;var m=new a(e.col.grid,null,null,"uiGridHeaderCell.moveElement");m.x={pixels:t},m.fireScrollingEvent()}for(var v=0,C=0;C<n.length;C++)if(angular.isUndefined(n[C].colDef.visible)||n[C].colDef.visible===!0){if(n[C].colDef.name===e.col.colDef.name)break;v+=n[C].drawnWidth||n[C].width||n[C].colDef.width}void 0===e.newScrollLeft?f+=t:f=e.newScrollLeft+l-v,u<e.col.drawnWidth&&(u+=Math.abs(t),c.css({width:u+"px"}))},w=function(e){document.onselectstart=function(){return!1};var i=e.pageX-g;!m&&Math.abs(i)>50?v():m&&(C(i),g=e.pageX)};n.on("mousemove",w);var b=function(){document.onselectstart=null,c&&c.remove();for(var i=e.grid.columns,r=0,o=0;o<i.length&&i[o].colDef.name!==e.col.colDef.name;o++)r++;if(0>f){for(var a=0,l=r-1;l>=0;l--)if((angular.isUndefined(i[l].colDef.visible)||i[l].colDef.visible===!0)&&(a+=i[l].drawnWidth||i[l].width||i[l].colDef.width,a>Math.abs(f))){t.redrawColumnAtPosition(e.grid,r,l+1);break}a<Math.abs(f)&&t.redrawColumnAtPosition(e.grid,r,0)}else if(f>0){for(var s=0,d=r+1;d<i.length;d++)if((angular.isUndefined(i[d].colDef.visible)||i[d].colDef.visible===!0)&&(s+=i[d].drawnWidth||i[d].width||i[d].colDef.width,s>f)){t.redrawColumnAtPosition(e.grid,r,d-1);break}f>s&&t.redrawColumnAtPosition(e.grid,r,i.length-1)}n.off("mousemove",w),n.off("mouseup",b)};n.on("mouseup",b)}}})}}}}}])}(),function(){var e=angular.module("ui.grid.pagination",["ng","ui.grid"]);e.service("uiGridPaginationService",["gridUtil",function(e){var i={initializeGrid:function(e){i.defaultGridOptions(e.options);var t={events:{pagination:{paginationChanged:function(){}}},methods:{pagination:{getPage:function(){return e.options.enablePagination?e.options.paginationCurrentPage:null},getTotalPages:function(){return e.options.enablePagination?0===e.options.totalItems?1:Math.ceil(e.options.totalItems/e.options.paginationPageSize):null},nextPage:function(){e.options.enablePagination&&(e.options.totalItems>0?e.options.paginationCurrentPage=Math.min(e.options.paginationCurrentPage+1,t.methods.pagination.getTotalPages()):e.options.paginationCurrentPage++)},previousPage:function(){e.options.enablePagination&&(e.options.paginationCurrentPage=Math.max(e.options.paginationCurrentPage-1,1))},seek:function(i){if(e.options.enablePagination){if(!angular.isNumber(i)||1>i)throw"Invalid page number: "+i;e.options.paginationCurrentPage=Math.min(i,t.methods.pagination.getTotalPages())}}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods),e.registerRowsProcessor(function(i){if(e.options.useExternalPagination||!e.options.enablePagination)return i;var t=parseInt(e.options.paginationPageSize,10),n=parseInt(e.options.paginationCurrentPage,10),r=i.filter(function(e){return e.visible});e.options.totalItems=r.length;var o=(n-1)*t;return o>r.length&&(n=e.options.paginationCurrentPage=1,o=(n-1)*t),r.slice(o,o+t)})},defaultGridOptions:function(i){i.enablePagination=i.enablePagination!==!1,i.enablePaginationControls=i.enablePaginationControls!==!1,i.useExternalPagination=i.useExternalPagination===!0,e.isNullOrUndefined(i.totalItems)&&(i.totalItems=0),e.isNullOrUndefined(i.paginationPageSizes)&&(i.paginationPageSizes=[250,500,1e3]),e.isNullOrUndefined(i.paginationPageSize)&&(i.paginationPageSize=i.paginationPageSizes.length>0?i.paginationPageSizes[0]:0),e.isNullOrUndefined(i.paginationCurrentPage)&&(i.paginationCurrentPage=1),e.isNullOrUndefined(i.paginationTemplate)&&(i.paginationTemplate="ui-grid/pagination")},onPaginationChanged:function(e,i,t){e.api.pagination.raise.paginationChanged(i,t),e.options.useExternalPagination||e.refresh()}};return i}]),e.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(e,i){return{priority:-200,scope:!1,require:"uiGrid",link:{pre:function(t,n,r,o){i.initializeGrid(o.grid),e.getTemplate(o.grid.options.paginationTemplate).then(function(e){var i=angular.element(e);n.append(i),o.innerCompile(i)})}}}}]),e.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService",function(e,i,t,n){return{priority:-200,scope:!0,require:"^uiGrid",link:function(r,o,a,l){r.paginationApi=l.grid.api.pagination,r.sizesLabel=n.getSafeText("pagination.sizes"),r.totalItemsLabel=n.getSafeText("pagination.totalItems");var s=l.grid.options;l.grid.renderContainers.body.registerViewportAdjuster(function(e){return e.height=e.height-t.elementHeight(o),e});var d=l.grid.registerDataChangeCallback(function(e){e.options.useExternalPagination||(e.options.totalItems=e.rows.length)},[i.dataChange.ROW]);r.$on("$destroy",d);var c=function(){r.showingLow=(s.paginationCurrentPage-1)*s.paginationPageSize+1,r.showingHigh=Math.min(s.paginationCurrentPage*s.paginationPageSize,s.totalItems)},u=r.$watch("grid.options.totalItems + grid.options.paginationPageSize",c),p=r.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(i,t){if(i!==t){if(!angular.isNumber(s.paginationCurrentPage)||s.paginationCurrentPage<1)return void(s.paginationCurrentPage=1);if(s.totalItems>0&&s.paginationCurrentPage>r.paginationApi.getTotalPages())return void(s.paginationCurrentPage=r.paginationApi.getTotalPages());c(),e.onPaginationChanged(r.grid,s.paginationCurrentPage,s.paginationPageSize)
}});r.$on("$destroy",function(){u(),p()}),r.cantPageForward=function(){return s.totalItems>0?s.paginationCurrentPage>=r.paginationApi.getTotalPages():s.data.length<1},r.cantPageToLast=function(){return s.totalItems>0?r.cantPageForward():!0},r.cantPageBackward=function(){return s.paginationCurrentPage<=1}}}}])}(),function(){var e=angular.module("ui.grid.pinning",["ui.grid"]);e.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService",function(e,i,t){var n={initializeGrid:function(e){n.defaultGridOptions(e.options),e.registerColumnBuilder(n.pinningColumnBuilder)},defaultGridOptions:function(e){e.enablePinning=e.enablePinning!==!1},pinningColumnBuilder:function(i,n,r){if(i.enablePinning=void 0===i.enablePinning?r.enablePinning:i.enablePinning,i.pinnedLeft?"*"===n.width?n.grid.refresh().then(function(){n.renderContainer="left",n.width=n.grid.canvasWidth/n.grid.columns.length,n.grid.createLeftContainer()}):(n.renderContainer="left",n.grid.createLeftContainer()):i.pinnedRight&&("*"===n.width?n.grid.refresh().then(function(){n.renderContainer="right",n.width=n.grid.canvasWidth/n.grid.columns.length,n.grid.createRightContainer()}):(n.renderContainer="right",n.grid.createRightContainer())),i.enablePinning){var o={name:"ui.grid.pinning.pinLeft",title:t.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"left"!==this.context.col.renderContainer},action:function(){this.context.col.renderContainer="left",this.context.col.width=this.context.col.drawnWidth,this.context.col.grid.createLeftContainer(),n.grid.refresh().then(function(){n.grid.refresh()})}},a={name:"ui.grid.pinning.pinRight",title:t.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"right"!==this.context.col.renderContainer},action:function(){this.context.col.renderContainer="right",this.context.col.width=this.context.col.drawnWidth,this.context.col.grid.createRightContainer(),n.grid.refresh().then(function(){n.grid.refresh()})}},l={name:"ui.grid.pinning.unpin",title:t.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return"undefined"!=typeof this.context.col.renderContainer&&null!==this.context.col.renderContainer&&"body"!==this.context.col.renderContainer},action:function(){this.context.col.renderContainer=null,n.grid.refresh().then(function(){n.grid.refresh()})}};e.arrayContainsObjectWithProperty(n.menuItems,"name","ui.grid.pinning.pinLeft")||n.menuItems.push(o),e.arrayContainsObjectWithProperty(n.menuItems,"name","ui.grid.pinning.pinRight")||n.menuItems.push(a),e.arrayContainsObjectWithProperty(n.menuItems,"name","ui.grid.pinning.unpin")||n.menuItems.push(l)}}};return n}]),e.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(e,i){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,r){i.initializeGrid(r.grid)},post:function(){}}}}}])}(),function(){var e=angular.module("ui.grid.resizeColumns",["ui.grid"]);e.service("uiGridResizeColumnsService",["gridUtil","$q","$timeout",function(e,i,t){var n={defaultGridOptions:function(e){e.enableColumnResizing=e.enableColumnResizing!==!1,e.enableColumnResize===!1&&(e.enableColumnResizing=!1)},colResizerColumnBuilder:function(e,t,n){var r=[];return e.enableColumnResizing=void 0===e.enableColumnResizing?n.enableColumnResizing:e.enableColumnResizing,e.enableColumnResize===!1&&(e.enableColumnResizing=!1),i.all(r)},registerPublicApi:function(e){var i={events:{colResizable:{columnSizeChanged:function(){}}}};e.api.registerEventsFromObject(i.events)},fireColumnSizeChanged:function(e,i,n){t(function(){e.api.colResizable.raise.columnSizeChanged(i,n)})},findTargetCol:function(e,i,t){var n=e.getRenderContainer();if("left"===i){var r=n.visibleColumnCache.indexOf(e);return n.visibleColumnCache[r-1*t]}return e}};return n}]),e.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(e,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,r){i.defaultGridOptions(r.grid.options),r.grid.registerColumnBuilder(i.colResizerColumnBuilder),i.registerPublicApi(r.grid)},post:function(){}}}}}]),e.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants","$timeout",function(e,i,t,n,r,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,n,l,s){var d=s.grid;if(d.options.enableColumnResizing){var c=i.get("ui-grid/columnResizer"),u=1;d.isRTL()&&(e.position="left",u=-1);var p=function(){for(var i=n[0].getElementsByClassName("ui-grid-column-resizer"),o=0;o<i.length;o++)angular.element(i[o]).remove();var a=r.findTargetCol(e.col,"left",u),l=e.col.getRenderContainer();if(a&&0!==l.visibleColumnCache.indexOf(e.col)&&a.colDef.enableColumnResizing!==!1){var s=angular.element(c).clone();s.attr("position","left"),n.prepend(s),t(s)(e)}if(e.col.colDef.enableColumnResizing!==!1){var d=angular.element(c).clone();d.attr("position","right"),n.append(d),t(d)(e)}};p();var g=function(){a(p)},f=d.registerDataChangeCallback(g,[o.dataChange.COLUMN]);e.$on("$destroy",f)}}}}}}]),e.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(e,i,t,n){var r,o,a,l=angular.element('<div class="ui-grid-resize-overlay"></div>');i.isTouchEnabled()?(r="touchstart",o="touchend",a="touchmove"):(r="mousedown",o="mouseup",a="mousemove");var s={priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(s,d,c,u){function p(e){var i=e.getRenderContainer();i.visibleColumnCache.forEach(function(i){if(i!==e){var t=i.colDef;(!t.width||angular.isString(t.width)&&(-1!==t.width.indexOf("*")||-1!==t.width.indexOf("%")))&&(i.width=i.drawnWidth)}})}function g(){u.grid.buildColumns().then(function(){u.grid.refreshCanvas(!0).then(function(){u.grid.refresh()})})}function f(e,i){var t=i;return e.colDef.minWidth&&t<e.colDef.minWidth?t=e.colDef.minWidth:e.colDef.maxWidth&&t>e.colDef.maxWidth&&(t=e.colDef.maxWidth),t}function h(e){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),C=(e.targetTouches?e.targetTouches[0]:e).clientX-w,0>C?C=0:C>u.grid.gridWidth&&(C=u.grid.gridWidth);var i=n.findTargetCol(s.col,s.position,b);if(i.colDef.enableColumnResizing!==!1){u.grid.element.hasClass("column-resizing")||u.grid.element.addClass("column-resizing");var r=C-v,o=parseInt(i.drawnWidth+r*b,10);C+=(f(i,o)-o)*b,l.css({left:C+"px"}),u.fireEvent(t.events.ITEM_DRAGGING)}}function m(i){i.originalEvent&&(i=i.originalEvent),i.preventDefault(),u.grid.element.removeClass("column-resizing"),l.remove(),C=(i.changedTouches?i.changedTouches[0]:i).clientX-w;var t=C-v;if(0===t)return e.off(o,m),void e.off(a,h);var r=n.findTargetCol(s.col,s.position,b);if(r.colDef.enableColumnResizing!==!1){var d=parseInt(r.drawnWidth+t*b,10);r.width=f(r,d),p(r),g(t),n.fireColumnSizeChanged(u.grid,r.colDef,t),e.off(o,m),e.off(a,h)}}var v=0,C=0,w=0,b=1;u.grid.isRTL()&&(s.position="left",b=-1),"left"===s.position?d.addClass("left"):"right"===s.position&&d.addClass("right"),d.on(r,function(i){i.originalEvent&&(i=i.originalEvent),i.stopPropagation(),w=u.grid.element[0].getBoundingClientRect().left,v=(i.targetTouches?i.targetTouches[0]:i).clientX-w,u.grid.element.append(l),l.css({left:v}),e.on(o,m),e.on(a,h)}),d.on("dblclick",function(e){e.stopPropagation();var r=n.findTargetCol(s.col,s.position,b);if(r.colDef.enableColumnResizing!==!1){var o=0,a=0,l=i.closestElm(d,".ui-grid-render-container"),c=l.querySelectorAll("."+t.COL_CLASS_PREFIX+r.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(c,function(e){var t;angular.element(e).parent().hasClass("ui-grid-header-cell")&&(t=angular.element(e).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),i.fakeElement(e,{},function(e){var n=angular.element(e);n.attr("style","float: left");var r=i.elementWidth(n);if(t){var l=i.elementWidth(t);r+=l}r>o&&(o=r,a=o-r)})}),r.width=f(r,o),p(r),g(a),n.fireColumnSizeChanged(u.grid,r.colDef,a)}}),d.on("$destroy",function(){d.off(r),d.off("dblclick"),e.off(a,h),e.off(o,m)})}};return s}])}(),function(){var e=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);e.constant("uiGridRowEditConstants",{}),e.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(e,i,t,n,r){var o={initializeGrid:function(e,i){i.rowEdit={};var t={events:{rowEdit:{saveRow:function(){}}},methods:{rowEdit:{setSavePromise:function(e,t){o.setSavePromise(i,e,t)},getDirtyRows:function(){return i.rowEdit.dirtyRows?i.rowEdit.dirtyRows:[]},getErrorRows:function(){return i.rowEdit.errorRows?i.rowEdit.errorRows:[]},flushDirtyRows:function(){return o.flushDirtyRows(i)},setRowsDirty:function(e){o.setRowsDirty(i,e)}}}};i.api.registerEventsFromObject(t.events),i.api.registerMethodsFromObject(t.methods),i.api.core.on.renderingComplete(e,function(){i.api.edit.on.afterCellEdit(e,o.endEditCell),i.api.edit.on.beginCellEdit(e,o.beginEditCell),i.api.edit.on.cancelCellEdit(e,o.cancelEditCell),i.api.cellNav&&i.api.cellNav.on.navigate(e,o.navigate)})},defaultGridOptions:function(){},saveRow:function(e,i){var t=this;return function(){i.isSaving=!0;var n=e.api.rowEdit.raise.saveRow(i.entity);return i.rowEditSavePromise?i.rowEditSavePromise.then(t.processSuccessPromise(e,i),t.processErrorPromise(e,i)):r.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),n}},setSavePromise:function(e,i,t){var n=e.getRow(i);n.rowEditSavePromise=t},processSuccessPromise:function(e,i){var t=this;return function(){delete i.isSaving,delete i.isDirty,delete i.isError,delete i.rowEditSaveTimer,t.removeRow(e.rowEdit.errorRows,i),t.removeRow(e.rowEdit.dirtyRows,i)}},processErrorPromise:function(e,i){return function(){delete i.isSaving,delete i.rowEditSaveTimer,i.isError=!0,e.rowEdit.errorRows||(e.rowEdit.errorRows=[]),o.isRowPresent(e.rowEdit.errorRows,i)||e.rowEdit.errorRows.push(i)}},removeRow:function(e,i){angular.forEach(e,function(t,n){t.uid===i.uid&&e.splice(n,1)})},isRowPresent:function(e,i){var t=!1;return angular.forEach(e,function(e){e.uid===i.uid&&(t=!0)}),t},flushDirtyRows:function(e){var t=[];return angular.forEach(e.rowEdit.dirtyRows,function(i){o.saveRow(e,i)(),t.push(i.rowEditSavePromise)}),i.all(t)},endEditCell:function(e,i,t,n){var a=this.grid,l=a.getRow(e);return l?void((t!==n||l.isDirty)&&(a.rowEdit.dirtyRows||(a.rowEdit.dirtyRows=[]),l.isDirty||(l.isDirty=!0,a.rowEdit.dirtyRows.push(l)),delete l.isError,o.considerSetTimer(a,l))):void r.logError("Unable to find rowEntity in grid data, dirty flag cannot be set")},beginEditCell:function(e){var i=this.grid,t=i.getRow(e);return t?void o.cancelTimer(i,t):void r.logError("Unable to find rowEntity in grid data, timer cannot be cancelled")},cancelEditCell:function(e){var i=this.grid,t=i.getRow(e);return t?void o.considerSetTimer(i,t):void r.logError("Unable to find rowEntity in grid data, timer cannot be set")},navigate:function(e,i){var t=this.grid;e.row.rowEditSaveTimer&&o.cancelTimer(t,e.row),i&&i.row&&i.row!==e.row&&o.considerSetTimer(t,i.row)},considerSetTimer:function(i,t){if(o.cancelTimer(i,t),t.isDirty&&!t.isSaving&&-1!==i.options.rowEditWaitInterval){var n=i.options.rowEditWaitInterval?i.options.rowEditWaitInterval:2e3;t.rowEditSaveTimer=e(o.saveRow(i,t),n,1)}},cancelTimer:function(i,t){t.rowEditSaveTimer&&!t.isSaving&&(e.cancel(t.rowEditSaveTimer),delete t.rowEditSaveTimer)},setRowsDirty:function(e,i){var t;i.forEach(function(i){t=e.getRow(i),t?(e.rowEdit.dirtyRows||(e.rowEdit.dirtyRows=[]),t.isDirty||(t.isDirty=!0,e.rowEdit.dirtyRows.push(t)),delete t.isError,o.considerSetTimer(e,t)):r.logError("requested row not found in rowEdit.setRowsDirty, row was: "+i)})}};return o}]),e.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(e,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,r){i.initializeGrid(e,r.grid)},post:function(){}}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(){return{priority:-200,scope:!1,compile:function(e){var i=angular.element(e.children().children()[0]),t=i.attr("ng-class"),n="";return n=t?t.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":"{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",i.attr("ng-class",n),{pre:function(){},post:function(){}}}}}])}(),function(){var e=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav"]);e.constant("uiGridSaveStateConstants",{featureName:"saveState"}),e.service("uiGridSaveStateService",["$q","uiGridSaveStateConstants","gridUtil","$compile","$interval","uiGridConstants",function(){var e={initializeGrid:function(i){i.saveState={},this.defaultGridOptions(i.options);var t={events:{saveState:{}},methods:{saveState:{save:function(){return e.save(i)},restore:function(t,n){e.restore(i,t,n)}}}};i.api.registerEventsFromObject(t.events),i.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.saveWidths=e.saveWidths!==!1,e.saveOrder=e.saveOrder!==!1,e.saveScroll=e.saveScroll===!0,e.saveFocus=e.saveScroll!==!0&&e.saveFocus!==!1,e.saveVisible=e.saveVisible!==!1,e.saveSort=e.saveSort!==!1,e.saveFilter=e.saveFilter!==!1,e.saveSelection=e.saveSelection!==!1},save:function(i){var t={};return t.columns=e.saveColumns(i),t.scrollFocus=e.saveScrollFocus(i),t.selection=e.saveSelection(i),t},restore:function(i,t,n){n.columns&&e.restoreColumns(i,n.columns),n.scrollFocus&&e.restoreScrollFocus(i,t,n.scrollFocus),n.selection&&e.restoreSelection(i,n.selection),i.refresh()},saveColumns:function(e){var i=[];return angular.forEach(e.columns,function(e){var t={};t.name=e.name,t.visible=e.visible,t.width=e.width,t.sort=angular.copy(e.sort),t.filters=angular.copy(e.filters),i.push(t)}),i},saveScrollFocus:function(i){if(!i.api.cellNav)return{};var t={};if(i.options.saveFocus){t.focus=!0;var n=i.api.cellNav.getFocusedCell();null!==n&&(t.colName=n.col.colDef.name,t.rowVal=e.getRowVal(i,n.row))}else i.options.saveScroll&&(t.focus=!1,i.renderContainers.body.prevRowScrollIndex&&(t.rowVal=e.getRowVal(i,i.renderContainers.body.visibleRowCache[i.renderContainers.body.prevRowScrollIndex])),i.renderContainers.body.prevColScrollIndex&&(t.colName=i.renderContainers.body.visibleColumnCache[i.renderContainers.body.prevColScrollIndex].name));return t},saveSelection:function(i){if(!i.api.selection)return{};var t=i.api.selection.getSelectedGridRows().map(function(t){return e.getRowVal(i,t)});return t},getRowVal:function(e,i){if(!i)return null;var t={};return e.options.saveRowIdentity?(t.identity=!0,t.row=e.options.saveRowIdentity(i.entity)):(t.identity=!1,t.row=e.renderContainers.body.visibleRowCache.indexOf(i)),t},restoreColumns:function(e,i){angular.forEach(i,function(i,t){var n=e.columns.filter(function(e){return e.name===i.name});if(n.length>0){var r=e.columns.indexOf(n[0]);if(e.columns[r].visible=i.visible,e.columns[r].colDef.visible=i.visible,e.columns[r].width=i.width,e.columns[r].sort=angular.copy(i.sort),e.columns[r].filters=angular.copy(i.filters),r!==t){var o=e.columns.splice(r,1)[0];e.columns.splice(t,0,o)}}})},restoreScrollFocus:function(i,t,n){if(i.api.cellNav){var r,o;if(n.colName){var a=i.options.columnDefs.filter(function(e){return e.name===n.colName});a.length>0&&(r=a[0])}n.rowVal&&n.rowVal.row&&(o=n.rowVal.identity?e.findRowByIdentity(i,n.rowVal):i.renderContainers.body.visibleRowCache[n.rowVal.row]);var l=o&&o.entity?o.entity:null;(r||l)&&(n.focus?i.api.cellNav.scrollToFocus(t,l,r):i.api.cellNav.scrollTo(t,l,r))}},restoreSelection:function(i,t){i.api.selection&&(i.api.selection.clearSelectedRows(),angular.forEach(t,function(t){if(t.identity){var n=e.findRowByIdentity(i,t);n&&i.api.selection.selectRow(n.entity)}else i.api.selection.selectRowByVisibleIndex(t.row)}))},findRowByIdentity:function(e,i){if(!e.options.saveRowIdentity)return null;var t=e.rows.filter(function(t){return e.options.saveRowIdentity(t.entity)===i.row?!0:!1});return t.length>0?t[0]:null}};return e}]),e.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(e,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,t,n,r){i.initializeGrid(r.grid)}}}])}(),function(){var e=angular.module("ui.grid.selection",["ui.grid"]);e.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"}),angular.module("ui.grid").config(["$provide",function(e){e.decorator("GridRow",["$delegate",function(e){return e.prototype.setSelected=function(e){this.isSelected=e,e?this.grid.selection.selectedCount++:this.grid.selection.selectedCount--},e}])}]),e.service("uiGridSelectionService",["$q","$templateCache","uiGridSelectionConstants","gridUtil",function(){var e={initializeGrid:function(i){i.selection={},i.selection.lastSelectedRow=null,i.selection.selectAll=!1,i.selection.selectedCount=0,e.defaultGridOptions(i.options);var t={events:{selection:{rowSelectionChanged:function(){},rowSelectionChangedBatch:function(){}}},methods:{selection:{toggleRowSelection:function(t,n){var r=i.getRow(t);null!==r&&r.enableSelection!==!1&&e.toggleRowSelection(i,r,n,i.options.multiSelect,i.options.noUnselect)},selectRow:function(t,n){var r=i.getRow(t);null===r||r.isSelected||r.enableSelection===!1||e.toggleRowSelection(i,r,n,i.options.multiSelect,i.options.noUnselect)},selectRowByVisibleIndex:function(t,n){var r=i.renderContainers.body.visibleRowCache[t];null===r||"undefined"==typeof r||r.isSelected||r.enableSelection===!1||e.toggleRowSelection(i,r,n,i.options.multiSelect,i.options.noUnselect)},unSelectRow:function(t,n){var r=i.getRow(t);null!==r&&r.isSelected&&e.toggleRowSelection(i,r,n,i.options.multiSelect,i.options.noUnselect)},selectAllRows:function(t){if(i.options.multiSelect!==!1){var n=[];i.rows.forEach(function(r){r.isSelected||r.enableSelection===!1||(r.setSelected(!0),e.decideRaiseSelectionEvent(i,r,n,t))}),e.decideRaiseSelectionBatchEvent(i,n,t),i.selection.selectAll=!0}},selectAllVisibleRows:function(t){if(i.options.multiSelect!==!1){var n=[];i.rows.forEach(function(r){r.visible?r.isSelected||r.enableSelection===!1||(r.setSelected(!0),e.decideRaiseSelectionEvent(i,r,n,t)):r.isSelected&&(r.setSelected(!1),e.decideRaiseSelectionEvent(i,r,n,t))}),e.decideRaiseSelectionBatchEvent(i,n,t),i.selection.selectAll=!0}},clearSelectedRows:function(t){e.clearSelectedRows(i,t)},getSelectedRows:function(){return e.getSelectedRows(i).map(function(e){return e.entity})},getSelectedGridRows:function(){return e.getSelectedRows(i)},setMultiSelect:function(e){i.options.multiSelect=e},setModifierKeysToMultiSelect:function(e){i.options.modifierKeysToMultiSelect=e},getSelectAllState:function(){return i.selection.selectAll}}}};i.api.registerEventsFromObject(t.events),i.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enableRowSelection=e.enableRowSelection!==!1,e.multiSelect=e.multiSelect!==!1,e.noUnselect=e.noUnselect===!0,e.modifierKeysToMultiSelect=e.modifierKeysToMultiSelect===!0,e.enableRowHeaderSelection=e.enableRowHeaderSelection!==!1,e.enableSelectAll=e.enableSelectAll!==!1,e.enableSelectionBatchEvent=e.enableSelectionBatchEvent!==!1,e.selectionRowHeaderWidth=angular.isDefined(e.selectionRowHeaderWidth)?e.selectionRowHeaderWidth:30,e.enableFooterTotalSelected=e.enableFooterTotalSelected!==!1,e.isRowSelectable=angular.isDefined(e.isRowSelectable)?e.isRowSelectable:angular.noop},toggleRowSelection:function(i,t,n,r,o){var a=t.isSelected;if(r||a){if(!r&&a){var l=e.getSelectedRows(i);l.length>1&&(a=!1,e.clearSelectedRows(i,n))}}else e.clearSelectedRows(i,n);a&&o||t.enableSelection!==!1&&(t.setSelected(!a),t.isSelected===!0?i.selection.lastSelectedRow=t:i.selection.selectAll=!1,i.api.selection.raise.rowSelectionChanged(t,n))},shiftSelect:function(i,t,n,r){if(r){var o=e.getSelectedRows(i),a=o.length>0?i.renderContainers.body.visibleRowCache.indexOf(i.selection.lastSelectedRow):0,l=i.renderContainers.body.visibleRowCache.indexOf(t);if(a>l){var s=a;a=l,l=s}for(var d=[],c=a;l>=c;c++){var u=i.renderContainers.body.visibleRowCache[c];u&&(u.isSelected||u.enableSelection===!1||(u.setSelected(!0),i.selection.lastSelectedRow=u,e.decideRaiseSelectionEvent(i,u,d,n)))}e.decideRaiseSelectionBatchEvent(i,d,n)}},getSelectedRows:function(e){return e.rows.filter(function(e){return e.isSelected})},clearSelectedRows:function(i,t){var n=[];e.getSelectedRows(i).forEach(function(r){r.isSelected&&(r.setSelected(!1),e.decideRaiseSelectionEvent(i,r,n,t))}),e.decideRaiseSelectionBatchEvent(i,n,t),i.selection.selectAll=!1},decideRaiseSelectionEvent:function(e,i,t,n){e.options.enableSelectionBatchEvent?t.push(i):e.api.selection.raise.rowSelectionChanged(i,n)},decideRaiseSelectionBatchEvent:function(e,i,t){i.length>0&&e.api.selection.raise.rowSelectionChangedBatch(i,t)}};return e}]),e.directive("uiGridSelection",["uiGridSelectionConstants","uiGridSelectionService","$templateCache",function(e,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,n,r,o){if(i.initializeGrid(o.grid),o.grid.options.enableRowHeaderSelection){var a={name:e.selectionRowHeaderColName,displayName:"",width:o.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0};o.grid.addRowHeaderColumn(a)}o.grid.options.isRowSelectable!==angular.noop&&o.grid.registerRowBuilder(function(e){e.enableSelection=o.grid.options.isRowSelectable(e)})},post:function(){}}}}}]),e.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService",function(e,i){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,t,n,r){var o=r.grid;e.selectButtonClick=function(e,t){t.shiftKey?i.shiftSelect(o,e,t,o.options.multiSelect):t.ctrlKey||t.metaKey?i.toggleRowSelection(o,e,t,o.options.multiSelect,o.options.noUnselect):i.toggleRowSelection(o,e,t,o.options.multiSelect&&!o.options.modifierKeysToMultiSelect,o.options.noUnselect)}}}}]),e.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(e,i){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(e){var t=e.col.grid;e.headerButtonClick=function(e,n){t.selection.selectAll?(i.clearSelectedRows(t,n),t.options.noUnselect&&t.api.selection.selectRowByVisibleIndex(0,n),t.selection.selectAll=!1):t.options.multiSelect&&(t.api.selection.selectAllVisibleRows(n),t.selection.selectAll=!0)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(){return{priority:-200,scope:!1,compile:function(e){var i=angular.element(e.children().children()[0]),t=i.attr("ng-class"),n="";return n=t?t.slice(0,-1)+",'ui-grid-row-selected': row.isSelected}":"{'ui-grid-row-selected': row.isSelected}",i.attr("ng-class",n),{pre:function(){},post:function(){}}}}}]),e.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(e,i,t,n,r,o){return{priority:-200,restrict:"A",scope:!1,link:function(e,t){function n(){e.grid.options.enableRowSelection&&!e.grid.options.enableRowHeaderSelection&&(t.addClass("ui-grid-disable-selection"),t.on("touchstart",d),t.on("touchend",c),t.on("click",s),e.registered=!0)}function r(){e.registered&&(t.removeClass("ui-grid-disable-selection"),t.off("touchstart",d),t.off("touchend",c),t.off("click",s),e.registered=!1)}var a=0,l=300,s=function(i){i.shiftKey?o.shiftSelect(e.grid,e.row,i,e.grid.options.multiSelect):i.ctrlKey||i.metaKey?o.toggleRowSelection(e.grid,e.row,i,e.grid.options.multiSelect,e.grid.options.noUnselect):o.toggleRowSelection(e.grid,e.row,i,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply()},d=function(){a=(new Date).getTime()},c=function(e){var i=(new Date).getTime(),t=i-a;l>t&&s(e)};n();var u=e.grid.registerDataChangeCallback(function(){!e.grid.options.enableRowSelection||e.grid.options.enableRowHeaderSelection||e.registered?e.grid.options.enableRowSelection&&!e.grid.options.enableRowHeaderSelection||!e.registered||r():n()},[i.dataChange.OPTIONS]);t.on("$destroy",u)}}}]),e.directive("uiGridGridFooter",["$compile","uiGridConstants","gridUtil",function(e,i,t){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(){return{pre:function(i,n,r,o){o.grid.options.showGridFooter&&t.getTemplate("ui-grid/gridFooterSelectedItems").then(function(t){var r=angular.element(t),o=e(r)(i);angular.element(n[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(o)})},post:function(){}}}}}])}(),angular.module("ui.grid").run(["$templateCache",function(e){e.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row"><div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div ng-repeat="col in colContainer.renderedColumns track by col.colDef.name" ui-grid-footer-cell col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix" ng-style="$index === 0 && colContainer.columnStyle($index)"></div></div></div></div>'),e.put("ui-grid/ui-grid-grid-footer",'<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{\'search.totalItems\' | t}} {{grid.rows.length}}</span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})</span></div>'),e.put("ui-grid/ui-grid-group-panel",'<div class="ui-grid-group-panel"><div ui-t="groupPanel.description" class="description" ng-show="groupings.length == 0"></div><ul ng-show="groupings.length > 0" class="ngGroupList"><li class="ngGroupItem" ng-repeat="group in configGroups"><span class="ngGroupElement"><span class="ngGroupName">{{group.displayName}} <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span></span> <span ng-hide="$last" class="ngGroupArrow"></span></span></li></ul></div>'),e.put("ui-grid/ui-grid-header",'<div class="ui-grid-header"><div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.colDef.name" ui-grid-header-cell col="col" render-index="$index" ng-style="$index === 0 && colContainer.columnStyle($index)"></div></div></div><div ui-grid-menu></div></div></div>'),e.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button" ng-click="toggleMenu()"><div class="ui-grid-icon-container"><i class="ui-grid-icon-menu">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>'),e.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>'),e.put("ui-grid/ui-grid-row",'<div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell" ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader }" ui-grid-cell></div>'),e.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid"><!-- TODO (c0bra): add "scoped" attr here, eventually? --><style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ ((grid.getTotalRowHeight() < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    /*\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n    */\n\n    {{ grid.customStyles }}</style><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"></div><div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-horizontal-scrollbar="grid.options.enableHorizontalScrollbar" enable-vertical-scrollbar="grid.options.enableVerticalScrollbar"></div><div ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div><div ui-grid-grid-footer ng-if="grid.options.showGridFooter"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"></div><div ng-transclude></div></div>'),e.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/uiGridColumnFilter",'<li class="ui-grid-menu-item ui-grid-clearfix ui-grid-column-filter" ng-show="itemShown()" ng-click="$event.stopPropagation();"><div class="input-container"><input class="column-filter-input" type="text" ng-model="item.model" placeholder="{{ i18n.search.placeholder }}"><div class="column-filter-cancel-icon-container"><i class="ui-grid-filter-cancel ui-grid-icon-cancel column-filter-cancel-icon">&nbsp;</i></div></div><div style="button-container" ng-click="item.action($event)"><div class="ui-grid-button"><i class="ui-grid-icon-search">&nbsp;</i></div></div></li>'),e.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems"><!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n        </div>\n      </ul>\n    </div>\n  </div> --></div></div>'),e.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}</div></div>'),e.put("ui-grid/uiGridHeaderCell",'<div ng-class="{ \'sortable\': sortable }"><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><span>{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-visible="col.sort.direction" ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }">&nbsp;</span></div><div class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}"><i class="ui-grid-icon-angle-down">&nbsp;</i></div><div ng-if="filterable" class="ui-grid-filter-container" ng-repeat="colFilter in col.filters"><input type="text" class="ui-grid-filter-input" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}"><div class="ui-grid-filter-button" ng-click="colFilter.term = null"><i class="ui-grid-icon-cancel" ng-show="!!colFilter.term">&nbsp;</i><!-- use !! because angular interprets \'f\' as false --></div></div></div>'),e.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-if="shown"><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner"><ul class="ui-grid-menu-items"><li ng-repeat="item in menuItems" ui-grid-menu-item action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl"></li></ul></div></div></div>'),e.put("ui-grid/uiGridMenuItem",'<li class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\' : active() }"><i ng-class="icon"></i> {{ name }}</li>'),e.put("ui-grid/uiGridRenderContainer",'<div class="ui-grid-render-container"><div ui-grid-header></div><div ui-grid-viewport></div><div ui-grid-footer ng-if="grid.options.showColumnFooter"></div><!-- native scrolling --><!--<div ui-grid-native-scrollbar ng-if="enableVerticalScrollbar" type="vertical"></div>--><!--<div ui-grid-native-scrollbar ng-if="enableHorizontalScrollbar" type="horizontal"></div>--></div>'),e.put("ui-grid/uiGridViewport",'<div class="ui-grid-viewport" ng-style="containerCtrl.colContainer.getViewPortStyle()"><div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="containerCtrl.rowStyle(rowRenderIndex)"><div ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>'),e.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>'),e.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + \'px\'\n     , height: grid.options.expandableRowHeight + \'px\'}"></div>'),e.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"></i></div></div>'),e.put("ui-grid/expandableScrollFiller","<div ng-if=\"expandableRow.shouldRenderFiller()\" style=\"float:left; margin-top: 2px; margin-bottom: 2px\" ng-style=\"{ width: (grid.getViewportWidth()) + 'px',\n              height: grid.options.expandableRowHeight + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{ 'margin-top': ( grid.options.expandableRowHeight/2 - 5) + 'px',\n            'margin-left' : ((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5) + 'px' }\"></i></div>"),e.put("ui-grid/expandableTopRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !grid.expandable.expandedAll, \'ui-grid-icon-minus-squared\' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()"></i></div></div>'),e.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL</a></span>'),e.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"></form></li>'),e.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item></div>"),e.put("ui-grid/pagination",'<div class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div class="ui-grid-pager-container"><div class="ui-grid-pager-control"><button type="button" ng-click="paginationApi.seek(1)" ng-disabled="cantPageBackward()"><div class="first-triangle"><div class="first-bar"></div></div></button> <button type="button" ng-click="paginationApi.previousPage()" ng-disabled="cantPageBackward()"><div class="first-triangle prev-triangle"></div></button> <input type="number" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0">/ {{ paginationApi.getTotalPages() }}</span> <button type="button" ng-click="paginationApi.nextPage()" ng-disabled="cantPageForward()"><div class="last-triangle next-triangle"></div></button> <button type="button" ng-click="paginationApi.seek(paginationApi.getTotalPages())" ng-disabled="cantPageToLast()"><div class="last-triangle"><div class="last-bar"></div></div></button></div><div class="ui-grid-pager-row-count-picker"><select ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"></select><span class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}</span></div></div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{showingLow}} - {{showingHigh}} of {{grid.options.totalItems}} {{totalItemsLabel}}</span></div></div></div>'),e.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex"></div>'),e.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>'),e.put("ui-grid/selectionHeaderCell",'<div><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll"></ui-grid-selection-select-all-buttons></div></div>'),e.put("ui-grid/selectionRowHeader",'<div class="ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div></div>'),e.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)">&nbsp;</div>'),e.put("ui-grid/selectionSelectAllButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-all-selected\': grid.selection.selectAll}" ng-click="headerButtonClick($event)"></div>')
}]);